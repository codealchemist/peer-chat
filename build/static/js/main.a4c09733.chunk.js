(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e){e.exports=["accessibility_new","account_box","account_circle","android","aspect_ratio","autorenew","backup","bookmark","bug_report","build","camera_enhance","card_giftcard","change_history","check_circle","code","copyright","credit_card","dashboard","description","done","drag_indicator","eject","euro_symbol","explore","extension","face","favorite","fingerprint","grade","help","home","hourglass_empty","https","language","lock","lock_open","motorcycle","offline_bolt","pan_tool","pets","power_settings_new","pregnant_woman","room","rowing","stars","verified_user","explicit","flash_on"]},152:function(e,n,t){e.exports=t(395)},157:function(e,n,t){},319:function(e,n){},321:function(e,n){},337:function(e,n){},360:function(e,n,t){var a={"./background0.jpg":361,"./background1.jpg":362,"./background10.jpg":363,"./background11.jpg":364,"./background12.jpg":365,"./background13.jpg":366,"./background14.jpg":367,"./background15.jpg":368,"./background16.jpg":369,"./background17.jpg":370,"./background18.jpg":371,"./background19.jpg":372,"./background2.jpg":373,"./background20.jpg":374,"./background21.jpg":375,"./background22.jpg":376,"./background23.jpg":377,"./background24.jpg":378,"./background25.jpg":379,"./background26.jpg":380,"./background27.jpg":381,"./background28.jpg":382,"./background29.jpg":383,"./background3.jpg":384,"./background30.jpg":385,"./background31.jpg":386,"./background32.jpg":387,"./background33.jpg":388,"./background4.jpg":389,"./background5.jpg":390,"./background6.jpg":391,"./background7.jpg":392,"./background8.jpg":393,"./background9.jpg":394};function r(e){var n=o(e);return t(n)}function o(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=360},361:function(e,n,t){e.exports=t.p+"static/media/background0.c9f543ff.jpg"},362:function(e,n,t){e.exports=t.p+"static/media/background1.7710c20b.jpg"},363:function(e,n,t){e.exports=t.p+"static/media/background10.4870880e.jpg"},364:function(e,n){e.exports="data:image/jpeg;base64,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"},365:function(e,n,t){e.exports=t.p+"static/media/background12.e2b9de50.jpg"},366:function(e,n,t){e.exports=t.p+"static/media/background13.67d967c2.jpg"},367:function(e,n,t){e.exports=t.p+"static/media/background14.627e10b8.jpg"},368:function(e,n,t){e.exports=t.p+"static/media/background15.018e1aa4.jpg"},369:function(e,n,t){e.exports=t.p+"static/media/background16.84b50e30.jpg"},370:function(e,n,t){e.exports=t.p+"static/media/background17.6383d3ce.jpg"},371:function(e,n,t){e.exports=t.p+"static/media/background18.017251e1.jpg"},372:function(e,n,t){e.exports=t.p+"static/media/background19.d3f1fb58.jpg"},373:function(e,n,t){e.exports=t.p+"static/media/background2.defe7d35.jpg"},374:function(e,n,t){e.exports=t.p+"static/media/background20.25830afd.jpg"},375:function(e,n,t){e.exports=t.p+"static/media/background21.a88b459b.jpg"},376:function(e,n,t){e.exports=t.p+"static/media/background22.cf471bf1.jpg"},377:function(e,n,t){e.exports=t.p+"static/media/background23.b95ec159.jpg"},378:function(e,n,t){e.exports=t.p+"static/media/background24.c5221388.jpg"},379:function(e,n,t){e.exports=t.p+"static/media/background25.a4dd1795.jpg"},380:function(e,n,t){e.exports=t.p+"static/media/background26.47252b33.jpg"},381:function(e,n,t){e.exports=t.p+"static/media/background27.2c1177fb.jpg"},382:function(e,n,t){e.exports=t.p+"static/media/background28.09d1cb30.jpg"},383:function(e,n,t){e.exports=t.p+"static/media/background29.45dbc75e.jpg"},384:function(e,n,t){e.exports=t.p+"static/media/background3.759424bc.jpg"},385:function(e,n,t){e.exports=t.p+"static/media/background30.70f9a4ae.jpg"},386:function(e,n,t){e.exports=t.p+"static/media/background31.61178f20.jpg"},387:function(e,n,t){e.exports=t.p+"static/media/background32.0c56ad87.jpg"},388:function(e,n,t){e.exports=t.p+"static/media/background33.cd78673a.jpg"},389:function(e,n,t){e.exports=t.p+"static/media/background4.0d76741c.jpg"},390:function(e,n,t){e.exports=t.p+"static/media/background5.f6a355e0.jpg"},391:function(e,n,t){e.exports=t.p+"static/media/background6.579abfd7.jpg"},392:function(e,n,t){e.exports=t.p+"static/media/background7.47b8612f.jpg"},393:function(e,n,t){e.exports=t.p+"static/media/background8.9488fbb1.jpg"},394:function(e,n,t){e.exports=t.p+"static/media/background9.f3f05df6.jpg"},395:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(27),i=t.n(o),c=(t(157),t(10)),s=t(397),u=t(396),l=t(39),p=t(35),d=t(11),g=t(33),f=t(34),h=t(51),b=t(49),m=t(52),v=t(70),x=t.n(v),y=t(25),k="peer-chat/user/set-id",w=t(398),j=t(142),A=t.n(j),E=t(143),O=t.n(E),N=t(53),C=t.n(N),S=t(71),T=t.n(S),I=t(88),U=t.n(I),B=t(38),V=t.n(B);function R(){var e=Object(c.a)(["\n  cursor: pointer;\n  :hover {\n    color: white;\n  }\n"]);return R=function(){return e},e}function M(){var e=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return M=function(){return e},e}function G(){var e=Object(c.a)(["\n  margin-top: 0;\n"]);return G=function(){return e},e}function D(){var e=Object(c.a)(["\n  background: rgba(255, 255, 255, 0.8);\n  padding: 10px;\n"]);return D=function(){return e},e}function Q(){var e=Object(c.a)(["\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]);return Q=function(){return e},e}var J=d.a.div(Q()),q=d.a.div(D()),F=d.a.h4(G()),Y=d.a.div(M()),K=Object(d.a)(V.a)(R()),L=t(140),W=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1},t.openModal=function(){t.setState({isModalOpen:!0})},t.closeModal=function(){t.setState({isModalOpen:!1})},t.selectAvatar=function(e){console.log("selected avatar",e),t.props.setAvatar({avatar:e}),t.closeModal()},t}return Object(m.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.classes,a=n.avatar;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{id:"open-modal-button",onClick:this.openModal},r.a.createElement(V.a,{style:{fontSize:"50px"}},a)),r.a.createElement(U.a,{open:this.state.isModalOpen,onClose:this.closeModal},r.a.createElement("div",{className:t.paper},r.a.createElement(q,null,r.a.createElement(F,null,"SELECT AVATAR"),r.a.createElement(Y,null,L.map(function(n){return r.a.createElement(K,{key:n,style:{fontSize:"50px"},onClick:function(){return e.selectAvatar(n)}},n)}))))))}}]),n}(r.a.PureComponent),P={setAvatar:function(e){return{type:"peer-chat/user/set-avatar",payload:e}}},z=Object(y.compose)(Object(p.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"95%",color:"black",boxShadow:e.shadows[5],outline:"none",top:"20%",left:0,right:0,margin:"auto",textAlign:"center",height:"calc(80% - 10px)",overflow:"scroll"}}}),Object(l.b)(function(e){return{avatar:e.user.avatar}},P))(W),H=t(72),Z=t.n(H),X=t(141),_=t.n(X);function $(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n\n  @media (max-width: 1024px) {\n    flex-direction: column;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(c.a)(["\n  h2 {\n    margin: 0 0 10px;\n  }\n\n  p {\n    margin: 30px 10px 10px;\n  }\n"]);return ee=function(){return e},e}var ne=Object(d.a)(_.a)(ee()),te=d.a.div($()),ae=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(r)))).userId=x()(12),t.state={name:"",openingChat:!1},t.onNameChange=function(e){var n=e.target.value;t.setState({name:n})},t.createChat=function(){console.log("== create chat =="),t.setState({openingChat:!0}),t.props.setName({name:t.state.name}),t.props.history.push("/chat")},t.onKey=function(e){"Enter"===e.key&&t.state.name.trim()&&t.createChat()},t}return Object(m.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.setUserId({id:this.userId})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ne,{className:e.card},r.a.createElement(A.a,null,r.a.createElement(C.a,{variant:"h5",component:"h2"},"Welcome!"),r.a.createElement(C.a,{color:"textSecondary"},r.a.createElement("b",null,"Chateer")," is a peer to peer chat application that uses"," ",r.a.createElement("b",null,"WebRTC data channels")," to send messages between peers."),r.a.createElement(C.a,{component:"p"},"Let's create a new chat!"),r.a.createElement(te,null,r.a.createElement(z,null),r.a.createElement(T.a,{id:"name",label:"Name",value:this.state.name,onChange:this.onNameChange,margin:"normal",variant:"outlined",onKeyPress:this.onKey,rowsMax:"1",inputProps:{maxLength:20},multiline:!0,autoFocus:!0}),r.a.createElement("div",{className:e.buttonContainer},r.a.createElement(O.a,{variant:"contained",color:"primary",disabled:!this.state.name.trim()||this.state.openingChat,onClick:this.createChat},"Create chat"),this.state.openingChat&&r.a.createElement(Z.a,{size:24,className:e.buttonProgress})))))}}]),n}(r.a.PureComponent),re={setName:function(e){return{type:"peer-chat/user/set-name",payload:e}},setUserId:function(e){return{type:k,payload:e}}},oe=Object(y.compose)(Object(p.withStyles)({card:{minWidth:300,width:"40%",background:"rgba(0,0,0,0.5)"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonContainer:{position:"relative"}}),Object(l.b)(null,re),w.a)(ae);function ie(){var e=Object(c.a)(["\n  z-index: 1;\n  h1 {\n    font-family: 'Playfair Display', serif;\n  }\n\n  ","\n"]);return ie=function(){return e},e}var ce=d.a.div(ie(),function(e){var n=e.type,t={subtleRight:"\n        position: fixed;\n        top: 22px;\n        right: 20px;\n        font-size: 10px;\n        background: rgba(0,0,0,0.5);\n        border-radius: 5px;\n        padding: 3px 10px 6px;\n\n        h1 {\n          margin: 0;\n        }\n\n        @media (max-width: 560px) {\n          font-size: 6px;\n          top: 28px;\n        }\n\n        @media (max-width: 460px) {\n          display: none;\n        }\n      "};if(n in t)return t[n]}),se=function(e){var n=e.type;return r.a.createElement(ce,{type:n},r.a.createElement("h1",null,"Chateer"))},ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement(oe,null))},le="peer-chat/chat/send-message",pe="peer-chat/chat/send-writing-notification",de="peer-chat/chat/send-clear-writing-notification",ge=function(e){return{type:"peer-chat/chat/add-message",payload:e}},fe=function(e){return{type:"peer-chat/chat/add-writing-notification",payload:e}},he=function(e){return{type:"peer-chat/chat/remove-writing-notification",payload:e}},be=function(e){return e.chat.messages},me=function(e){return e.chat.writingNotifications},ve=function(e){return e.signaling.isInitiator},xe=function(e){return e.signaling.shareUrl},ye=function(e){return e.user},ke=t(148),we=t.n(ke),je=t(73),Ae=t.n(je),Ee=function(e){var n=e.avatar;return r.a.createElement(V.a,{style:{fontSize:"50px"}},n)};function Oe(){var e=Object(c.a)(["\n  width: 50%;\n  background: ",";\n  color: #eee;\n  padding: 20px 10px 5px 10px;\n  border-radius: 5px;\n  min-width: 220px;\n  position: relative;\n  word-break: break-word;\n\n  > p {\n    word-break: break-word;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px 0 5px 7px;\n    border-color: transparent transparent transparent\n      ",";\n    position: absolute;\n    top: 9px;\n    right: -7px;\n\n    ","\n  }\n\n  ","\n"]);return Oe=function(){return e},e}function Ne(){var e=Object(c.a)(["\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #aaa;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(c.a)(["\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: flex-end;\n\n  ","\n"]);return Ce=function(){return e},e}function Se(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  margin-bottom: 5px;\n\n  ","\n"]);return Se=function(){return e},e}var Te=d.a.div(Se(),function(e){if("peer"===e.type)return"\n        flex-direction: row;\n      "}),Ie=d.a.div(Ce(),function(e){var n=e.type;return"peer"===n?"\n        justify-content: flex-start;\n      ":"notification"===n?"\n        justify-content: center;\n      ":void 0}),Ue=d.a.div(Ne()),Be=d.a.div(Oe(),"rgba(150, 150, 150, 0.2)","rgba(150, 150, 150, 0.2)",function(e){var n=e.type;return"peer"===n?"\n          border-width: 5px 7px 5px 0;\n          border-color: transparent ".concat("rgba(150, 150, 255, 0.2)"," transparent transparent;\n          left: -7px;\n        "):"notification"===n?"\n        display: none;\n      ":void 0},function(e){var n=e.type;return"peer"===n?"\n        background: ".concat("rgba(150, 150, 255, 0.2)",";\n      "):"notification"===n?"\n        background: rgba(0, 0, 0, 0.2);\n      ":void 0}),Ve=function(e){var n=e.user,t=e.text,a=e.date,o=e.type,i=void 0===o?"own":o;return r.a.createElement(Te,{type:i},r.a.createElement(Ee,{avatar:n.avatar}),r.a.createElement(Ie,{type:i},r.a.createElement(Be,{type:i},r.a.createElement(Ue,null,r.a.createElement("p",null,Ae()(a).format("MMMM Do YYYY, h:mm a"))),r.a.createElement(C.a,null,r.a.createElement("b",null,n.name)),r.a.createElement("span",null,t))))},Re=t(147),Me=t.n(Re);function Ge(){var e=Object(c.a)(["\n  position: absolute;\n  top: 2px;\n  right: 0px;\n"]);return Ge=function(){return e},e}function De(){var e=Object(c.a)(["\n  width: 50%;\n  background: ",";\n  padding: 20px 10px 5px 10px;\n  border-radius: 2px;\n  min-width: 220px;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n\n  > p {\n    color: #222;\n    font-size: 0.85rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    margin: 0;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 0 12px 15px;\n    border-color: transparent transparent transparent ",";\n    position: absolute;\n    top: 0;\n    right: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n\n  :after {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 15px 12px 0;\n    border-color: transparent "," transparent transparent;\n    position: absolute;\n    top: 0;\n    left: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n"]);return De=function(){return e},e}function Qe(){var e=Object(c.a)(["\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #444;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n"]);return Qe=function(){return e},e}function Je(){var e=Object(c.a)(["\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: center;\n"]);return Je=function(){return e},e}function qe(){var e=Object(c.a)(["\n  display: flex;\n  margin-bottom: 5px;\n"]);return qe=function(){return e},e}var Fe=d.a.div(qe()),Ye=d.a.div(Je()),Ke=d.a.div(Qe()),Le=d.a.div(De(),"rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.5)"),We=d.a.div(Ge()),Pe=function(e){var n=e.text,t=e.date,a=e.actionButton,o=void 0===a?"":a;return r.a.createElement(Fe,null,r.a.createElement(Ye,null,r.a.createElement(Le,null,r.a.createElement(Ke,null,r.a.createElement("p",null,Ae()(t).format("MMMM Do YYYY, h:mm:ss a"))),r.a.createElement("p",null,n),r.a.createElement(We,null,o))))},ze=t(146),He=t.n(ze);function Ze(){var e=Object(c.a)(["\n  position: absolute;\n  top: -1px;\n  right: 10px;\n"]);return Ze=function(){return e},e}function Xe(){var e=Object(c.a)(["\n  flex: 1;\n"]);return Xe=function(){return e},e}function _e(){var e=Object(c.a)(["\n  flex: 1;\n  overflow: scroll;\n"]);return _e=function(){return e},e}function $e(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]);return $e=function(){return e},e}function en(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 20px 20px 0 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n"]);return en=function(){return e},e}function nn(){var e=Object(c.a)(["\n  max-width: 640px;\n  width: 100%;\n  position: absolute;\n  height: calc(100% - 20px);\n  top: 0;\n\n  @media (max-width: 800px) {\n    max-width: 100%;\n  }\n"]);return nn=function(){return e},e}var tn,an,rn,on,cn=d.a.div(nn()),sn=d.a.div(en()),un=d.a.div($e()),ln=d.a.div(_e()),pn=Object(d.a)(T.a)(Xe()),dn=Object(d.a)(Me.a)(Ze()),gn=function(e){function n(e){var t;return Object(g.a)(this,n),(t=Object(h.a)(this,Object(b.a)(n).call(this,e))).writingNotificationTimeout=null,t.writingNotificationDelay=3,t.state={message:""},t.onMessageChange=function(e){var n=e.target.value;t.setState({message:n}),t.scheduleWritingNotification(n)},t.onKey=function(e){if("Enter"===e.key){var n=t.props,a=n.user;(0,n.sendMessage)({user:a,text:t.state.message,date:new Date,type:"own"}),t.setState({message:""}),clearTimeout(t.writingNotificationTimeout),t.writingNotificationTimeout=null}},t.$messages=r.a.createRef(),t}return Object(m.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.user,t=e.history;if(!n.id)return t.push("/")}},{key:"componentDidUpdate",value:function(){var e=this.$messages.current,n=e.scrollHeight;e.scrollTop=n}},{key:"scheduleWritingNotification",value:function(e){var n=this;if(!e.trim()){var t=this.props,a=t.sendClearWritingNotification,r=t.user;return clearTimeout(this.writingNotificationTimeout),this.writingNotificationTimeout=null,void a(r)}this.writingNotificationTimeout||(console.log("Schedule writing notification..."),this.writingNotificationTimeout=window.setTimeout(function(){var e=n.props,t=e.user;(0,e.sendWritingNotification)(t)},1e3*this.writingNotificationDelay))}},{key:"getInitNofication",value:function(){var e=this.props,n=e.user,t=e.isInitiator,a=e.shareUrl;return t?function(e){var n=e.user,t=e.shareUrl,a=r.a.createElement(He.a,{"data-clipboard-text":t,component:"a"},r.a.createElement(dn,{id:"share-link"},r.a.createElement(V.a,{style:{fontSize:"16px"}},"insert_link")));return r.a.createElement(Pe,{text:"".concat(n.name," created chat."),date:new Date,actionButton:a})}({user:n,shareUrl:a}):function(e){return r.a.createElement(Pe,{text:"".concat(e.name," joined chat."),date:new Date})}(n)}},{key:"render",value:function(){var e=this.props,n=e.classes,t=e.sending,a=e.messages,o=e.notifications;return r.a.createElement(cn,null,r.a.createElement(sn,null,r.a.createElement(ln,{ref:this.$messages},this.getInitNofication(),a.map(function(e,n){return r.a.createElement(Ve,{key:"message-".concat(n),user:e.user,text:e.text,date:e.date,type:e.type})}),o.map(function(e){return r.a.createElement(Ve,{key:e.user.id,user:e.user,text:r.a.createElement(we.a,null),date:e.date,type:"peer"})})),r.a.createElement(un,null,r.a.createElement(pn,{id:"message-input",name:"message-input",label:"Message",value:this.state.message,onChange:this.onMessageChange,onKeyPress:this.onKey,margin:"normal",rowsMax:"1",multiline:!0,autoFocus:!0}),t&&r.a.createElement(Z.a,{size:24,className:n.progress}))))}}]),n}(r.a.PureComponent),fn={sendMessage:function(e){return{type:le,payload:e}},sendWritingNotification:function(e){return{type:pe,payload:e}},sendClearWritingNotification:function(e){return{type:de,payload:e}}},hn=Object(y.compose)(Object(p.withStyles)({progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}),Object(l.b)(function(e){return{user:ye(e),messages:be(e),notifications:me(e),isInitiator:ve(e),shareUrl:xe(e)}},fn),w.a)(gn),bn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{type:"subtleRight"}),r.a.createElement(hn,null))},mn=t(42),vn=t(149),xn=t(23),yn={name:"",avatar:""},kn=Object(xn.a)({},"peer-chat/welcome/set-user",function(e,n){var t=n.payload;return{name:t.name,avatar:t.avatar}}),wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,n=arguments.length>1?arguments[1]:void 0;return n.type in kn?kn[n.type](e,n):yn},jn=t(19),An={messages:[],writingNotifications:[]},En=(tn={},Object(xn.a)(tn,le,function(e,n){var t=n.payload;return Object(jn.a)({},e,{messages:e.messages.concat([t])})}),Object(xn.a)(tn,"peer-chat/chat/add-message",function(e,n){var t=n.payload;return Object(jn.a)({},e,{writingNotifications:e.writingNotifications.filter(function(e){return e.user.id!==t.user.id}),messages:e.messages.concat([t])})}),Object(xn.a)(tn,"peer-chat/chat/add-writing-notification",function(e,n){var t=n.payload;return Object(jn.a)({},e,{writingNotifications:e.writingNotifications.concat([t])})}),Object(xn.a)(tn,"peer-chat/chat/remove-writing-notification",function(e,n){var t=n.payload;return Object(jn.a)({},e,{writingNotifications:e.writingNotifications.filter(function(e){return e.user.id!==t.user.id})})}),tn),On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,n=arguments.length>1?arguments[1]:void 0;return n.type in En?En[n.type](e,n):e},Nn="peer-chat/signaling/init-success",Cn="peer-chat/signaling/got-remote-signal",Sn={id:"",isInitiator:!1,shareUrl:"",error:""},Tn=(an={},Object(xn.a)(an,"peer-chat/signaling/init-failed",function(e,n){var t=n.payload;return Object(jn.a)({},Sn,{error:t.error})}),Object(xn.a)(an,Nn,function(e,n){var t=n.payload;return Object(jn.a)({},e,{id:t.id,isInitiator:t.isInitiator,shareUrl:t.shareUrl})}),an),In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,n=arguments.length>1?arguments[1]:void 0;return n.type in Tn?Tn[n.type](e,n):e},Un="peer-chat/peers/set-signal",Bn={id:null,signal:null,peer:null,peers:[]},Vn=(rn={},Object(xn.a)(rn,Un,function(e,n){var t=n.payload;return Object(jn.a)({},e,{id:t.id,signal:t.signal})}),Object(xn.a)(rn,"peer-chat/peers/create-local-peer-success",function(e,n){var t=n.payload;return Object(jn.a)({},e,{peer:t.peer})}),rn),Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,n=arguments.length>1?arguments[1]:void 0;return n.type in Vn?Vn[n.type](e,n):e},Mn={name:"",avatar:"account_circle"},Gn=(on={},Object(xn.a)(on,"peer-chat/user/set-name",function(e,n){var t=n.payload;return Object(jn.a)({},e,{name:t.name})}),Object(xn.a)(on,"peer-chat/user/set-avatar",function(e,n){var t=n.payload;return Object(jn.a)({},e,{avatar:t.avatar})}),Object(xn.a)(on,k,function(e,n){var t=n.payload;return Object(jn.a)({},e,{id:t.id})}),on),Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,n=arguments.length>1?arguments[1]:void 0;return n.type in Gn?Gn[n.type](e,n):e},Qn=Object(y.combineReducers)({welcome:wn,chat:On,signaling:In,peers:Rn,user:Dn}),Jn=t(4),qn=t.n(Jn),Fn=t(8),Yn=function(e){return{type:Nn,payload:e}},Kn=function(e){return{type:"peer-chat/signaling/init-failed",payload:e}},Ln=function(e){return{type:"peer-chat/signaling/send-signal-success",payload:e}},Wn=function(e){return{type:"peer-chat/signaling/send-signal-error",payload:e}},Pn=t(150),zn=t.n(Pn),Hn=new(function(){function e(){Object(g.a)(this,e),this.baseUrl="".concat(window.location.protocol,"//").concat(window.location.host),this.id=x()(12),this.initiatorId=this.getInitiatorId(),this.isInitiator=!this.initiatorId,this.onErrorCallback=null,this.shareUrl="",this.isInitiator&&this.setSharingUrl()}return Object(f.a)(e,[{key:"setSharingUrl",value:function(){this.shareUrl="".concat(this.baseUrl,"#").concat(this.id)}},{key:"setSignal",value:function(e){this.signal=e}},{key:"init",value:function(){var e=this;return console.log("PEER ID",this.id),console.log("INITIATOR ID:",this.initiatorId),this.channelName=this.initiatorId||this.id,console.log("CHANNEL",this.channelName),this.hub=zn()("peer-chat",["https://peer-chat-signalhub.herokuapp.com"]),this.hub.subscribe(this.channelName).on("data",function(n){return e.onSignalMessage(n)}),this.isInitiator||(console.log("Signaling: SEND REQUEST MSG"),this.hub.broadcast(this.channelName,{id:this.id,type:"request"})),this}},{key:"onSignalMessage",value:function(e){console.log("new message received",e);var n=e||{},t=n.signal,a=n.id,r=n.type;a!==this.id&&(this.isInitiator&&"request"===r?this.hub.broadcast(this.channelName,{id:this.id,type:"offer",signal:this.signal}):(this.isInitiator||"request"!==r)&&t&&"function"===typeof this.onRemoteSignalCallback&&this.onRemoteSignalCallback(t))}},{key:"send",value:function(e){this.hub.broadcast(this.channelName,Object(jn.a)({id:this.id},e))}},{key:"onRemoteSignal",value:function(e){this.onRemoteSignalCallback=e}},{key:"getInitiatorId",value:function(){return window.location.hash.substr(1)}}]),e}()),Zn={remote_signal:qn.a.mark(function e(n){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fn.d)({type:Cn,payload:{signal:n}});case 2:case"end":return e.stop()}},e,this)})},Xn=qn.a.mark(nt),_n=qn.a.mark(tt),$n=qn.a.mark(at);function et(e){return Object(mn.b)(function(n){return e.onRemoteSignal(function(e){console.log("signaling: got remote signal"),n({type:"remote_signal",data:e})}),function(){console.log("Unsubscribe from signaling event channel.")}})}function nt(){var e,n,t,a;return qn.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("init signaling"),Hn.init(),console.log("success, id:",Hn.id),r.next=6,Object(Fn.d)(Yn({id:Hn.id,isInitiator:Hn.isInitiator,shareUrl:Hn.shareUrl}));case 6:return e=et(Hn),r.next=9,Object(Fn.f)(e);case 9:if(n=r.sent,t=n.type,a=n.data,console.log('Got signaling CHANNEL "'.concat(t,'" DATA'),a),t in Zn){r.next=16;break}return console.log("There is no handler for signaling data type:",t),r.abrupt("return");case 16:return r.next=18,Zn[t](a);case 18:r.next=24;break;case 20:return r.prev=20,r.t0=r.catch(0),r.next=24,Object(Fn.d)(Kn({error:r.t0.message||"Unknown error."}));case 24:case"end":return r.stop()}},Xn,this,[[0,20]])}function tt(e){var n;return qn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,t.prev=1,console.log("send local signal to remote peer",n),Hn.setSignal(n.signal),Hn.send({signal:n.signal}),t.next=7,Object(Fn.d)(Ln(n));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),t.next=13,Object(Fn.d)(Wn({error:t.t0.message||"Unknown error."}));case 13:case"end":return t.stop()}},_n,this,[[1,9]])}function at(){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signaling saga"),e.next=3,Object(Fn.g)(Un,tt);case 3:return e.next=5,Object(Fn.b)(nt);case 5:case"end":return e.stop()}},$n,this)}var rt=function(e){return e.peers.peer},ot=function(e){return e.peers.signal},it=function(e){return{type:"peer-chat/peers/create-local-peer-success",payload:e}},ct=function(e){return{type:"peer-chat/peers/create-local-peer-failed",payload:e}},st=function(e){return{type:"peer-chat/peers/create-remote-peer-success",payload:e}},ut=function(e){return{type:"peer-chat/peers/create-remote-peer-failed",payload:e}},lt=function(e){return{type:Un,payload:e}},pt=t(91),dt=t.n(pt);window.SimplePeer=dt.a;var gt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.isInitiator,a=void 0!==t&&t,r=n.id,o=n.signal;Object(g.a)(this,e),this.isInitiator=a,this.remoteSignal=o,this.id=r}return Object(f.a)(e,[{key:"init",value:function(){return this.peer=new dt.a({initiator:this.isInitiator,trickle:!1}),this.setPeerEvents(),this}},{key:"setPeerEvents",value:function(){var e=this;console.log("set peer events"),this.peer.on("error",function(n){console.log("error",n),"function"===typeof e.onErrorCallback&&e.onErrorCallback(n)}),this.peer.on("close",function(n){console.log("close",n),e.reconnect()}),this.peer.on("signal",function(n){console.log("SIGNAL",JSON.stringify(n)),e.signal=n,"function"===typeof e.onSignalCallback&&e.onSignalCallback({signal:n,id:e.id})}),this.peer.on("connect",function(){console.log("--- CONNECT ---"),"function"===typeof e.onConnectCallback&&e.onConnectCallback()}),this.peer.on("data",function(n){console.log("data: "+n),"function"===typeof e.onDataCallback&&e.onDataCallback(n)}),window.peer=this.peer}},{key:"reconnect",value:function(){console.log("RECONNECT"),this.destroy(),this.init()}},{key:"onError",value:function(e){return this.onErrorCallback=e,this}},{key:"onData",value:function(e){return this.onDataCallback=e,this}},{key:"onSignal",value:function(e){return this.onSignalCallback=e,this}},{key:"onConnect",value:function(e){return this.onConnectCallback=e,this}},{key:"send",value:function(e){if(this.peer.connected){var n=JSON.stringify({payload:e});console.log("Peer SEND",n),this.peer.send(n)}}},{key:"connect",value:function(e){this.peer.signal(e)}},{key:"destroy",value:function(){this.peer.destroy()}}]),e}();window.Peer=gt;var ft=gt,ht=qn.a.mark(vt),bt=qn.a.mark(xt),mt=qn.a.mark(yt);function vt(e){var n;return qn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("-- MESSAGE",e),n=Object(jn.a)({},e,{type:"peer"}),t.next=4,Object(Fn.d)(ge(n));case 4:case"end":return t.stop()}},ht,this)}function xt(e){return qn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("-- WRITING NOTIFICATION",e),n.next=3,Object(Fn.d)(fe(e));case 3:case"end":return n.stop()}},bt,this)}function yt(e){return qn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("-- CLEAR WRITING NOTIFICATION",e),n.next=3,Object(Fn.d)(he(e));case 3:case"end":return n.stop()}},mt,this)}var kt={message:vt,writing_notification:xt,clear_writing_notification:yt},wt=qn.a.mark(jt);function jt(e){var n,t,a;return qn.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=JSON.parse(e),t=n.payload,console.log("handle remote peer data",t),(a=t.type)in kt){r.next=6;break}return console.log("There is no handler for remote peer data type:",a),r.abrupt("return");case 6:return r.next=8,kt[a](t.data);case 8:case"end":return r.stop()}},wt,this)}var At={signal:qn.a.mark(function e(n){var t;return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.data,!n.storedSignal){e.next=4;break}return console.log("ALREADY GOT SIGNAL!"),e.abrupt("return");case 4:return e.next=6,Object(Fn.d)(lt(t));case 6:case"end":return e.stop()}},e,this)}),connect:qn.a.mark(function e(n){var t;return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.data,console.log("Peer connected!",t);case 2:case"end":return e.stop()}},e,this)}),data:qn.a.mark(function e(n){var t;return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.data,e.next=3,jt(t);case 3:case"end":return e.stop()}},e,this)}),error:qn.a.mark(function e(n){var t;return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.data,console.log("got error from remotePeer event channel",t);case 2:case"end":return e.stop()}},e,this)})},Et=qn.a.mark(Ut),Ot=qn.a.mark(Vt),Nt=qn.a.mark(Rt),Ct=qn.a.mark(Mt),St=qn.a.mark(Gt),Tt=qn.a.mark(Dt);function It(e){return Object(mn.b)(function(n){return e.onSignal(function(e){n({type:"signal",data:e})}).onData(function(e){n({type:"data",data:e})}).onConnect(function(){n({type:"connect"})}).onError(function(e){console.log("Got ERROR from Peer:",e),n({type:"error",data:e})}),function(){console.log("Channel unsubscribe.")}})}function Ut(e){var n,t,a,r,o,i,c,s;return qn.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.payload,u.prev=1,console.log("create remote peer",n),t=n.signal,n.id,u.next=6,Object(Fn.e)(rt);case 6:return(a=u.sent).connect(t),r=It(a),u.next=11,Object(Fn.e)(ot);case 11:o=u.sent,u.prev=12;case 13:return u.next=16,Object(Fn.f)(r);case 16:if(i=u.sent,c=i.type,s=i.data,console.log('[ REMOTE PEER ]: GOT "'.concat(c,'" DATA from EVENT CHANNEL:'),s),c in At){u.next=23;break}return console.log("There is no handler for remote peer data type:",c),u.abrupt("return");case 23:return u.next=25,At[c]({data:s,storedSignal:o});case 25:u.next=13;break;case 27:u.next=32;break;case 29:u.prev=29,u.t0=u.catch(12),console.log("[ REMOTE PEER ]: Event channel error",u.t0);case 32:return u.next=34,Object(Fn.d)(st({peer:"TODO"}));case 34:u.next=40;break;case 36:return u.prev=36,u.t1=u.catch(1),u.next=40,Object(Fn.d)(ut({error:u.t1.message||"Unknown error."}));case 40:case"end":return u.stop()}},Et,this,[[1,36],[12,29]])}function Bt(e){return Object(mn.b)(function(n){return e.onSignal(function(e){n({type:"signal",data:e})}).onData(function(e){console.log("Got DATA from Peer:",e),n({type:"data",data:e})}).onError(function(e){console.log("Got ERROR from Peer:",e),n({type:"error",data:e})}),function(){console.log("Channel unsubscribe.")}})}function Vt(e){var n,t,a,r,o,i,c;return qn.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.payload,s.prev=1,console.log("create local peer",n),(t=new ft({id:n.id,isInitiator:n.isInitiator})).init(),s.next=7,Object(Fn.d)(it({peer:t}));case 7:a=Bt(t),s.prev=8;case 9:return s.next=12,Object(Fn.f)(a);case 12:if(r=s.sent,o=r.type,i=r.data,console.log('[ LOCAL PEER ]: GOT "'.concat(o,'" DATA from EVENT CHANNEL:'),i),c={signal:qn.a.mark(function e(n){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fn.d)(lt(n));case 2:case"end":return e.stop()}},e,this)}),data:function(e){var n=qn.a.mark(t);function t(t){var a=arguments;return qn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(e.apply(this,a),"t0",1);case 1:return n.abrupt("return",n.t0);case 2:case"end":return n.stop()}},n,this)}return t.toString=function(){return e.toString()},t}(qn.a.mark(function e(n){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),error:qn.a.mark(function e(n){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("got error from localPeer event channel",n);case 1:case"end":return e.stop()}},e,this)})},o in c){s.next=20;break}return console.log("There is no handler for remote peer data type:",o),s.abrupt("return");case 20:return s.next=22,c[o](i);case 22:s.next=9;break;case 24:s.next=29;break;case 26:s.prev=26,s.t0=s.catch(8),console.log("Event channel error",s.t0);case 29:s.next=35;break;case 31:return s.prev=31,s.t1=s.catch(1),s.next=35,Object(Fn.d)(ct({error:s.t1.message||"Unknown error."}));case 35:case"end":return s.stop()}},Ot,this,[[1,31],[8,26]])}function Rt(e){var n;return qn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,console.log("PEER Saga: send message",n),t.next=4,Object(Fn.e)(rt);case 4:t.sent.send({type:"message",data:Object(jn.a)({},n)});case 6:case"end":return t.stop()}},Nt,this)}function Mt(e){var n;return qn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,console.log("PEER Saga: send writing notification",n),t.next=4,Object(Fn.e)(rt);case 4:t.sent.send({type:"writing_notification",data:{user:n,date:new Date}});case 6:case"end":return t.stop()}},Ct,this)}function Gt(e){var n;return qn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,console.log("PEER Saga: send clear writing notification",n),t.next=4,Object(Fn.e)(rt);case 4:t.sent.send({type:"clear_writing_notification",data:{user:n,date:new Date}});case 6:case"end":return t.stop()}},St,this)}function Dt(){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("peers saga"),e.next=3,Object(Fn.g)(Nn,Vt);case 3:return e.next=5,Object(Fn.g)(Cn,Ut);case 5:return e.next=7,Object(Fn.g)(le,Rt);case 7:return e.next=9,Object(Fn.g)(pe,Mt);case 9:return e.next=11,Object(Fn.g)(de,Gt);case 11:case"end":return e.stop()}},Tt,this)}var Qt=qn.a.mark(Jt);function Jt(){return qn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("load sagas"),e.next=3,Object(Fn.a)([Object(Fn.c)(Dt),Object(Fn.c)(at)]);case 3:case"end":return e.stop()}},Qt,this)}var qt=Object(mn.a)(),Ft=Object(vn.composeWithDevTools)(Object(y.applyMiddleware)(qt)),Yt=Object(y.createStore)(Qn,Ft);qt.run(Jt);var Kt=Yt,Lt=function(){var e=Math.floor(34*Math.random())+0;return t(360)("./background".concat(e,".jpg"))};function Wt(){var e=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  background: black;\n  opacity: 0.7;\n"]);return Wt=function(){return e},e}function Pt(){var e=Object(c.a)(["\n  background: url(",") no-repeat;\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n  filter: blur(5px);\n"]);return Pt=function(){return e},e}var zt=d.a.div(Pt(),Lt()),Ht=d.a.div(Wt()),Zt=function(){return r.a.createElement(zt,null,r.a.createElement(Ht,null))};function Xt(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Xt=function(){return e},e}var _t=Object(p.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"dark"}}),$t=d.a.div(Xt()),ea=function(){return r.a.createElement(p.MuiThemeProvider,{theme:_t},r.a.createElement(l.a,{store:Kt},r.a.createElement(Zt,null),r.a.createElement($t,null,r.a.createElement(s.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{path:"/",exact:!0,component:ue}),r.a.createElement(u.a,{path:"/chat",component:bn}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.a4c09733.chunk.js.map