(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e){e.exports=["accessibility_new","account_box","account_circle","android","aspect_ratio","autorenew","backup","bookmark","bug_report","build","camera_enhance","card_giftcard","change_history","check_circle","code","copyright","credit_card","dashboard","description","done","drag_indicator","eject","euro_symbol","explore","extension","face","favorite","fingerprint","grade","help","home","hourglass_empty","https","language","lock","lock_open","motorcycle","offline_bolt","pan_tool","pets","power_settings_new","pregnant_woman","room","rowing","stars","verified_user","explicit","flash_on"]},152:function(e,t,n){e.exports=n(395)},157:function(e,t,n){},319:function(e,t){},321:function(e,t){},337:function(e,t){},360:function(e,t,n){var a={"./background0.jpg":361,"./background1.jpg":362,"./background10.jpg":363,"./background11.jpg":364,"./background12.jpg":365,"./background13.jpg":366,"./background14.jpg":367,"./background15.jpg":368,"./background16.jpg":369,"./background17.jpg":370,"./background18.jpg":371,"./background19.jpg":372,"./background2.jpg":373,"./background20.jpg":374,"./background21.jpg":375,"./background22.jpg":376,"./background23.jpg":377,"./background24.jpg":378,"./background25.jpg":379,"./background26.jpg":380,"./background27.jpg":381,"./background28.jpg":382,"./background29.jpg":383,"./background3.jpg":384,"./background30.jpg":385,"./background31.jpg":386,"./background32.jpg":387,"./background33.jpg":388,"./background4.jpg":389,"./background5.jpg":390,"./background6.jpg":391,"./background7.jpg":392,"./background8.jpg":393,"./background9.jpg":394};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=360},361:function(e,t,n){e.exports=n.p+"static/media/background0.c9f543ff.jpg"},362:function(e,t,n){e.exports=n.p+"static/media/background1.7710c20b.jpg"},363:function(e,t,n){e.exports=n.p+"static/media/background10.4870880e.jpg"},364:function(e,t){e.exports="data:image/jpeg;base64,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"},365:function(e,t,n){e.exports=n.p+"static/media/background12.e2b9de50.jpg"},366:function(e,t,n){e.exports=n.p+"static/media/background13.67d967c2.jpg"},367:function(e,t,n){e.exports=n.p+"static/media/background14.627e10b8.jpg"},368:function(e,t,n){e.exports=n.p+"static/media/background15.018e1aa4.jpg"},369:function(e,t,n){e.exports=n.p+"static/media/background16.84b50e30.jpg"},370:function(e,t,n){e.exports=n.p+"static/media/background17.6383d3ce.jpg"},371:function(e,t,n){e.exports=n.p+"static/media/background18.017251e1.jpg"},372:function(e,t,n){e.exports=n.p+"static/media/background19.d3f1fb58.jpg"},373:function(e,t,n){e.exports=n.p+"static/media/background2.defe7d35.jpg"},374:function(e,t,n){e.exports=n.p+"static/media/background20.25830afd.jpg"},375:function(e,t,n){e.exports=n.p+"static/media/background21.a88b459b.jpg"},376:function(e,t,n){e.exports=n.p+"static/media/background22.cf471bf1.jpg"},377:function(e,t,n){e.exports=n.p+"static/media/background23.b95ec159.jpg"},378:function(e,t,n){e.exports=n.p+"static/media/background24.c5221388.jpg"},379:function(e,t,n){e.exports=n.p+"static/media/background25.a4dd1795.jpg"},380:function(e,t,n){e.exports=n.p+"static/media/background26.47252b33.jpg"},381:function(e,t,n){e.exports=n.p+"static/media/background27.2c1177fb.jpg"},382:function(e,t,n){e.exports=n.p+"static/media/background28.09d1cb30.jpg"},383:function(e,t,n){e.exports=n.p+"static/media/background29.45dbc75e.jpg"},384:function(e,t,n){e.exports=n.p+"static/media/background3.759424bc.jpg"},385:function(e,t,n){e.exports=n.p+"static/media/background30.70f9a4ae.jpg"},386:function(e,t,n){e.exports=n.p+"static/media/background31.61178f20.jpg"},387:function(e,t,n){e.exports=n.p+"static/media/background32.0c56ad87.jpg"},388:function(e,t,n){e.exports=n.p+"static/media/background33.cd78673a.jpg"},389:function(e,t,n){e.exports=n.p+"static/media/background4.0d76741c.jpg"},390:function(e,t,n){e.exports=n.p+"static/media/background5.f6a355e0.jpg"},391:function(e,t,n){e.exports=n.p+"static/media/background6.579abfd7.jpg"},392:function(e,t,n){e.exports=n.p+"static/media/background7.47b8612f.jpg"},393:function(e,t,n){e.exports=n.p+"static/media/background8.9488fbb1.jpg"},394:function(e,t,n){e.exports=n.p+"static/media/background9.f3f05df6.jpg"},395:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),i=n.n(o),c=(n(157),n(11)),s=n(397),u=n(396),l=n(39),p=n(35),d=n(12),g=n(33),f=n(34),h=n(51),b=n(49),m=n(52),v=n(70),x=n.n(v),y=n(25),k="peer-chat/user/set-id",w=n(398),j=n(142),A=n.n(j),E=n(143),O=n.n(E),N=n(53),C=n.n(N),S=n(71),T=n.n(S),I=n(88),U=n.n(I),B=n(38),V=n.n(B);function R(){var e=Object(c.a)(["\n  cursor: pointer;\n  :hover {\n    color: white;\n  }\n"]);return R=function(){return e},e}function G(){var e=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return G=function(){return e},e}function M(){var e=Object(c.a)(["\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]);return M=function(){return e},e}var D=d.a.div(M()),Q=d.a.div(G()),J=Object(d.a)(V.a)(R()),q=n(140),F=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1},n.openModal=function(){n.setState({isModalOpen:!0})},n.closeModal=function(){n.setState({isModalOpen:!1})},n.selectAvatar=function(e){console.log("selected avatar",e),n.props.setAvatar({avatar:e}),n.closeModal()},n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.avatar;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{id:"open-modal-button",onClick:this.openModal},r.a.createElement(V.a,{style:{fontSize:"50px"}},a)),r.a.createElement(U.a,{open:this.state.isModalOpen,onClose:this.closeModal},r.a.createElement("div",{className:n.paper},r.a.createElement("h4",null,"SELECT AVATAR"),r.a.createElement(Q,null,q.map(function(t){return r.a.createElement(J,{key:t,style:{fontSize:"50px"},onClick:function(){return e.selectAvatar(t)}},t)})))))}}]),t}(r.a.PureComponent),Y={setAvatar:function(e){return{type:"peer-chat/user/set-avatar",payload:e}}},K=Object(y.compose)(Object(p.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"80%",backgroundColor:"rgba(255, 255, 255, 0.8)",color:"black",boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",top:"20%",left:0,right:0,margin:"auto",textAlign:"center"}}}),Object(l.b)(function(e){return{avatar:e.user.avatar}},Y))(F),L=n(72),W=n.n(L),P=n(141),z=n.n(P);function H(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n\n  @media (max-width: 1024px) {\n    flex-direction: column;\n  }\n"]);return H=function(){return e},e}function Z(){var e=Object(c.a)(["\n  h2 {\n    margin: 0 0 10px;\n  }\n\n  p {\n    margin: 30px 10px 10px;\n  }\n"]);return Z=function(){return e},e}var X=Object(d.a)(z.a)(Z()),_=d.a.div(H()),$=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).userId=x()(12),n.state={name:"",openingChat:!1},n.onNameChange=function(e){var t=e.target.value;n.setState({name:t.trim()})},n.createChat=function(){console.log("== create chat =="),n.setState({openingChat:!0}),n.props.setName({name:n.state.name}),n.props.history.push("/chat")},n.onKey=function(e){"Enter"===e.key&&n.state.name&&n.createChat()},n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.setUserId({id:this.userId})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(X,{className:e.card},r.a.createElement(A.a,null,r.a.createElement(C.a,{variant:"h5",component:"h2"},"Welcome!"),r.a.createElement(C.a,{color:"textSecondary"},r.a.createElement("b",null,"Chateer")," is a peer to peer chat application that uses"," ",r.a.createElement("b",null,"WebRTC data channels")," to send messages between peers."),r.a.createElement(C.a,{component:"p"},"Let's create a new chat!"),r.a.createElement(_,null,r.a.createElement(K,null),r.a.createElement(T.a,{id:"name",label:"Name",value:this.state.name,onChange:this.onNameChange,margin:"normal",variant:"outlined",onKeyPress:this.onKey,autoFocus:!0}),r.a.createElement("div",{className:e.buttonContainer},r.a.createElement(O.a,{variant:"contained",color:"primary",disabled:!this.state.name||this.state.openingChat,onClick:this.createChat},"Create chat"),this.state.openingChat&&r.a.createElement(W.a,{size:24,className:e.buttonProgress})))))}}]),t}(r.a.PureComponent),ee={setName:function(e){return{type:"peer-chat/user/set-name",payload:e}},setUserId:function(e){return{type:k,payload:e}}},te=Object(y.compose)(Object(p.withStyles)({card:{minWidth:300,width:"40%",background:"rgba(0,0,0,0.5)"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonContainer:{position:"relative"}}),Object(l.b)(null,ee),w.a)($);function ne(){var e=Object(c.a)(["\n  z-index: 1;\n  h1 {\n    font-family: 'Playfair Display', serif;\n  }\n\n  ","\n"]);return ne=function(){return e},e}var ae=d.a.div(ne(),function(e){var t=e.type,n={subtleRight:"\n        position: fixed;\n        top: 22px;\n        right: 20px;\n        font-size: 10px;\n        background: rgba(0,0,0,0.5);\n        border-radius: 5px;\n        padding: 3px 10px 6px;\n\n        h1 {\n          margin: 0;\n        }\n\n        @media (max-width: 560px) {\n          font-size: 6px;\n          top: 28px;\n        }\n\n        @media (max-width: 460px) {\n          display: none;\n        }\n      "};if(t in n)return n[t]}),re=function(e){var t=e.type;return r.a.createElement(ae,{type:t},r.a.createElement("h1",null,"Chateer"))},oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement(te,null))},ie="peer-chat/chat/send-message",ce="peer-chat/chat/send-writing-notification",se="peer-chat/chat/send-clear-writing-notification",ue=function(e){return{type:"peer-chat/chat/add-message",payload:e}},le=function(e){return{type:"peer-chat/chat/add-writing-notification",payload:e}},pe=function(e){return{type:"peer-chat/chat/remove-writing-notification",payload:e}},de=function(e){return e.chat.messages},ge=function(e){return e.chat.writingNotifications},fe=function(e){return e.signaling.isInitiator},he=function(e){return e.signaling.shareUrl},be=function(e){return e.user},me=n(148),ve=n.n(me),xe=n(73),ye=n.n(xe),ke=function(e){var t=e.avatar;return r.a.createElement(V.a,{style:{fontSize:"50px"}},t)};function we(){var e=Object(c.a)(["\n  width: 50%;\n  background: ",";\n  color: #eee;\n  padding: 20px 10px 5px 10px;\n  border-radius: 5px;\n  min-width: 220px;\n  position: relative;\n  word-break: break-word;\n\n  > p {\n    word-break: break-word;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px 0 5px 7px;\n    border-color: transparent transparent transparent\n      ",";\n    position: absolute;\n    top: 9px;\n    right: -7px;\n\n    ","\n  }\n\n  ","\n"]);return we=function(){return e},e}function je(){var e=Object(c.a)(["\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #aaa;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n"]);return je=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: flex-end;\n\n  ","\n"]);return Ae=function(){return e},e}function Ee(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  margin-bottom: 5px;\n\n  ","\n"]);return Ee=function(){return e},e}var Oe=d.a.div(Ee(),function(e){if("peer"===e.type)return"\n        flex-direction: row;\n      "}),Ne=d.a.div(Ae(),function(e){var t=e.type;return"peer"===t?"\n        justify-content: flex-start;\n      ":"notification"===t?"\n        justify-content: center;\n      ":void 0}),Ce=d.a.div(je()),Se=d.a.div(we(),"rgba(150, 150, 150, 0.2)","rgba(150, 150, 150, 0.2)",function(e){var t=e.type;return"peer"===t?"\n          border-width: 5px 7px 5px 0;\n          border-color: transparent ".concat("rgba(150, 150, 255, 0.2)"," transparent transparent;\n          left: -7px;\n        "):"notification"===t?"\n        display: none;\n      ":void 0},function(e){var t=e.type;return"peer"===t?"\n        background: ".concat("rgba(150, 150, 255, 0.2)",";\n      "):"notification"===t?"\n        background: rgba(0, 0, 0, 0.2);\n      ":void 0}),Te=function(e){var t=e.user,n=e.text,a=e.date,o=e.type,i=void 0===o?"own":o;return r.a.createElement(Oe,{type:i},r.a.createElement(ke,{avatar:t.avatar}),r.a.createElement(Ne,{type:i},r.a.createElement(Se,{type:i},r.a.createElement(Ce,null,r.a.createElement("p",null,ye()(a).format("MMMM Do YYYY, h:mm a"))),r.a.createElement(C.a,null,r.a.createElement("b",null,t.name)),r.a.createElement("span",null,n))))},Ie=n(147),Ue=n.n(Ie);function Be(){var e=Object(c.a)(["\n  position: absolute;\n  top: 2px;\n  right: 0px;\n"]);return Be=function(){return e},e}function Ve(){var e=Object(c.a)(["\n  width: 50%;\n  background: ",";\n  padding: 20px 10px 5px 10px;\n  border-radius: 2px;\n  min-width: 220px;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n\n  > p {\n    color: #222;\n    font-size: 0.85rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    margin: 0;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 0 12px 15px;\n    border-color: transparent transparent transparent ",";\n    position: absolute;\n    top: 0;\n    right: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n\n  :after {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 15px 12px 0;\n    border-color: transparent "," transparent transparent;\n    position: absolute;\n    top: 0;\n    left: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n"]);return Ve=function(){return e},e}function Re(){var e=Object(c.a)(["\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #444;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n"]);return Re=function(){return e},e}function Ge(){var e=Object(c.a)(["\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: center;\n"]);return Ge=function(){return e},e}function Me(){var e=Object(c.a)(["\n  display: flex;\n  margin-bottom: 5px;\n"]);return Me=function(){return e},e}var De=d.a.div(Me()),Qe=d.a.div(Ge()),Je=d.a.div(Re()),qe=d.a.div(Ve(),"rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.5)"),Fe=d.a.div(Be()),Ye=function(e){var t=e.text,n=e.date,a=e.actionButton,o=void 0===a?"":a;return r.a.createElement(De,null,r.a.createElement(Qe,null,r.a.createElement(qe,null,r.a.createElement(Je,null,r.a.createElement("p",null,ye()(n).format("MMMM Do YYYY, h:mm:ss a"))),r.a.createElement("p",null,t),r.a.createElement(Fe,null,o))))},Ke=n(146),Le=n.n(Ke);function We(){var e=Object(c.a)(["\n  position: absolute;\n  top: -1px;\n  right: 10px;\n"]);return We=function(){return e},e}function Pe(){var e=Object(c.a)(["\n  flex: 1;\n"]);return Pe=function(){return e},e}function ze(){var e=Object(c.a)(["\n  flex: 1;\n  overflow: scroll;\n"]);return ze=function(){return e},e}function He(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]);return He=function(){return e},e}function Ze(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 20px 20px 0 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n"]);return Ze=function(){return e},e}function Xe(){var e=Object(c.a)(["\n  max-width: 640px;\n  width: 100%;\n  position: absolute;\n  height: calc(100% - 20px);\n  top: 0;\n\n  @media (max-width: 800px) {\n    max-width: 100%;\n  }\n"]);return Xe=function(){return e},e}var _e,$e,et,tt,nt=d.a.div(Xe()),at=d.a.div(Ze()),rt=d.a.div(He()),ot=d.a.div(ze()),it=Object(d.a)(T.a)(Pe()),ct=Object(d.a)(Ue.a)(We()),st=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).writingNotificationTimeout=null,n.writingNotificationDelay=3,n.state={message:""},n.onMessageChange=function(e){var t=e.target.value;n.setState({message:t}),n.scheduleWritingNotification(t)},n.onKey=function(e){if("Enter"===e.key){var t=n.props,a=t.user;(0,t.sendMessage)({user:a,text:n.state.message,date:new Date,type:"own"}),n.setState({message:""}),clearTimeout(n.writingNotificationTimeout),n.writingNotificationTimeout=null}},n.$messages=r.a.createRef(),n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.history;if(!t.id)return n.push("/")}},{key:"componentDidUpdate",value:function(){var e=this.$messages.current,t=e.scrollHeight;e.scrollTop=t}},{key:"scheduleWritingNotification",value:function(e){var t=this;if(!e.trim()){var n=this.props,a=n.sendClearWritingNotification,r=n.user;return clearTimeout(this.writingNotificationTimeout),this.writingNotificationTimeout=null,void a(r)}this.writingNotificationTimeout||(console.log("Schedule writing notification..."),this.writingNotificationTimeout=window.setTimeout(function(){var e=t.props,n=e.user;(0,e.sendWritingNotification)(n)},1e3*this.writingNotificationDelay))}},{key:"getInitNofication",value:function(){var e=this.props,t=e.user,n=e.isInitiator,a=e.shareUrl;return n?function(e){var t=e.user,n=e.shareUrl,a=r.a.createElement(Le.a,{"data-clipboard-text":n,component:"a"},r.a.createElement(ct,{id:"share-link"},r.a.createElement(V.a,{style:{fontSize:"16px"}},"insert_link")));return r.a.createElement(Ye,{text:"".concat(t.name," created chat."),date:new Date,actionButton:a})}({user:t,shareUrl:a}):function(e){return r.a.createElement(Ye,{text:"".concat(e.name," joined chat."),date:new Date})}(t)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sending,a=e.messages,o=e.notifications;return r.a.createElement(nt,null,r.a.createElement(at,null,r.a.createElement(ot,{ref:this.$messages},this.getInitNofication(),a.map(function(e,t){return r.a.createElement(Te,{key:"message-".concat(t),user:e.user,text:e.text,date:e.date,type:e.type})}),o.map(function(e){return r.a.createElement(Te,{key:e.user.id,user:e.user,text:r.a.createElement(ve.a,null),date:e.date,type:"peer"})})),r.a.createElement(rt,null,r.a.createElement(it,{id:"message-input",name:"message-input",label:"Message",value:this.state.message,onChange:this.onMessageChange,onKeyPress:this.onKey,margin:"normal",rowsMax:"1",multiline:!0,autoFocus:!0}),n&&r.a.createElement(W.a,{size:24,className:t.progress}))))}}]),t}(r.a.PureComponent),ut={sendMessage:function(e){return{type:ie,payload:e}},sendWritingNotification:function(e){return{type:ce,payload:e}},sendClearWritingNotification:function(e){return{type:se,payload:e}}},lt=Object(y.compose)(Object(p.withStyles)({progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}),Object(l.b)(function(e){return{user:be(e),messages:de(e),notifications:ge(e),isInitiator:fe(e),shareUrl:he(e)}},ut),w.a)(st),pt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{type:"subtleRight"}),r.a.createElement(lt,null))},dt=n(42),gt=n(149),ft=n(23),ht={name:"",avatar:""},bt=Object(ft.a)({},"peer-chat/welcome/set-user",function(e,t){var n=t.payload;return{name:n.name,avatar:n.avatar}}),mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;return t.type in bt?bt[t.type](e,t):ht},vt=n(19),xt={messages:[],writingNotifications:[]},yt=(_e={},Object(ft.a)(_e,ie,function(e,t){var n=t.payload;return Object(vt.a)({},e,{messages:e.messages.concat([n])})}),Object(ft.a)(_e,"peer-chat/chat/add-message",function(e,t){var n=t.payload;return Object(vt.a)({},e,{writingNotifications:e.writingNotifications.filter(function(e){return e.user.id!==n.user.id}),messages:e.messages.concat([n])})}),Object(ft.a)(_e,"peer-chat/chat/add-writing-notification",function(e,t){var n=t.payload;return Object(vt.a)({},e,{writingNotifications:e.writingNotifications.concat([n])})}),Object(ft.a)(_e,"peer-chat/chat/remove-writing-notification",function(e,t){var n=t.payload;return Object(vt.a)({},e,{writingNotifications:e.writingNotifications.filter(function(e){return e.user.id!==n.user.id})})}),_e),kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;return t.type in yt?yt[t.type](e,t):e},wt="peer-chat/signaling/init-success",jt="peer-chat/signaling/got-remote-signal",At={id:"",isInitiator:!1,shareUrl:"",error:""},Et=($e={},Object(ft.a)($e,"peer-chat/signaling/init-failed",function(e,t){var n=t.payload;return Object(vt.a)({},At,{error:n.error})}),Object(ft.a)($e,wt,function(e,t){var n=t.payload;return Object(vt.a)({},e,{id:n.id,isInitiator:n.isInitiator,shareUrl:n.shareUrl})}),$e),Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;return t.type in Et?Et[t.type](e,t):e},Nt="peer-chat/peers/set-signal",Ct={id:null,signal:null,peer:null,peers:[]},St=(et={},Object(ft.a)(et,Nt,function(e,t){var n=t.payload;return Object(vt.a)({},e,{id:n.id,signal:n.signal})}),Object(ft.a)(et,"peer-chat/peers/create-local-peer-success",function(e,t){var n=t.payload;return Object(vt.a)({},e,{peer:n.peer})}),et),Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;return t.type in St?St[t.type](e,t):e},It={name:"",avatar:"account_circle"},Ut=(tt={},Object(ft.a)(tt,"peer-chat/user/set-name",function(e,t){var n=t.payload;return Object(vt.a)({},e,{name:n.name})}),Object(ft.a)(tt,"peer-chat/user/set-avatar",function(e,t){var n=t.payload;return Object(vt.a)({},e,{avatar:n.avatar})}),Object(ft.a)(tt,k,function(e,t){var n=t.payload;return Object(vt.a)({},e,{id:n.id})}),tt),Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;return t.type in Ut?Ut[t.type](e,t):e},Vt=Object(y.combineReducers)({welcome:mt,chat:kt,signaling:Ot,peers:Tt,user:Bt}),Rt=n(4),Gt=n.n(Rt),Mt=n(8),Dt=function(e){return{type:wt,payload:e}},Qt=function(e){return{type:"peer-chat/signaling/init-failed",payload:e}},Jt=function(e){return{type:"peer-chat/signaling/send-signal-success",payload:e}},qt=function(e){return{type:"peer-chat/signaling/send-signal-error",payload:e}},Ft=n(150),Yt=n.n(Ft),Kt=new(function(){function e(){Object(g.a)(this,e),this.baseUrl="".concat(window.location.protocol,"//").concat(window.location.host),this.id=x()(12),this.initiatorId=this.getInitiatorId(),this.isInitiator=!this.initiatorId,this.onErrorCallback=null,this.shareUrl="",this.isInitiator&&this.setSharingUrl()}return Object(f.a)(e,[{key:"setSharingUrl",value:function(){this.shareUrl="".concat(this.baseUrl,"#").concat(this.id)}},{key:"setSignal",value:function(e){this.signal=e}},{key:"init",value:function(){var e=this;return console.log("PEER ID",this.id),console.log("INITIATOR ID:",this.initiatorId),this.channelName=this.initiatorId||this.id,console.log("CHANNEL",this.channelName),this.hub=Yt()("peer-chat",["https://peer-chat-signalhub.herokuapp.com"]),this.hub.subscribe(this.channelName).on("data",function(t){return e.onSignalMessage(t)}),this.isInitiator||(console.log("Signaling: SEND REQUEST MSG"),this.hub.broadcast(this.channelName,{id:this.id,type:"request"})),this}},{key:"onSignalMessage",value:function(e){console.log("new message received",e);var t=e||{},n=t.signal,a=t.id,r=t.type;a!==this.id&&(this.isInitiator&&"request"===r?this.hub.broadcast(this.channelName,{id:this.id,type:"offer",signal:this.signal}):(this.isInitiator||"request"!==r)&&n&&"function"===typeof this.onRemoteSignalCallback&&this.onRemoteSignalCallback(n))}},{key:"send",value:function(e){this.hub.broadcast(this.channelName,Object(vt.a)({id:this.id},e))}},{key:"onRemoteSignal",value:function(e){this.onRemoteSignalCallback=e}},{key:"getInitiatorId",value:function(){return window.location.hash.substr(1)}}]),e}()),Lt={remote_signal:Gt.a.mark(function e(t){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Mt.d)({type:jt,payload:{signal:t}});case 2:case"end":return e.stop()}},e,this)})},Wt=Gt.a.mark(Zt),Pt=Gt.a.mark(Xt),zt=Gt.a.mark(_t);function Ht(e){return Object(dt.b)(function(t){return e.onRemoteSignal(function(e){console.log("signaling: got remote signal"),t({type:"remote_signal",data:e})}),function(){console.log("Unsubscribe from signaling event channel.")}})}function Zt(){var e,t,n,a;return Gt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("init signaling"),Kt.init(),console.log("success, id:",Kt.id),r.next=6,Object(Mt.d)(Dt({id:Kt.id,isInitiator:Kt.isInitiator,shareUrl:Kt.shareUrl}));case 6:return e=Ht(Kt),r.next=9,Object(Mt.f)(e);case 9:if(t=r.sent,n=t.type,a=t.data,console.log('Got signaling CHANNEL "'.concat(n,'" DATA'),a),n in Lt){r.next=16;break}return console.log("There is no handler for signaling data type:",n),r.abrupt("return");case 16:return r.next=18,Lt[n](a);case 18:r.next=24;break;case 20:return r.prev=20,r.t0=r.catch(0),r.next=24,Object(Mt.d)(Qt({error:r.t0.message||"Unknown error."}));case 24:case"end":return r.stop()}},Wt,this,[[0,20]])}function Xt(e){var t;return Gt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,console.log("send local signal to remote peer",t),Kt.setSignal(t.signal),Kt.send({signal:t.signal}),n.next=7,Object(Mt.d)(Jt(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(Mt.d)(qt({error:n.t0.message||"Unknown error."}));case 13:case"end":return n.stop()}},Pt,this,[[1,9]])}function _t(){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signaling saga"),e.next=3,Object(Mt.g)(Nt,Xt);case 3:return e.next=5,Object(Mt.b)(Zt);case 5:case"end":return e.stop()}},zt,this)}var $t=function(e){return e.peers.peer},en=function(e){return e.peers.signal},tn=function(e){return{type:"peer-chat/peers/create-local-peer-success",payload:e}},nn=function(e){return{type:"peer-chat/peers/create-local-peer-failed",payload:e}},an=function(e){return{type:"peer-chat/peers/create-remote-peer-success",payload:e}},rn=function(e){return{type:"peer-chat/peers/create-remote-peer-failed",payload:e}},on=function(e){return{type:Nt,payload:e}},cn=n(91),sn=n.n(cn);window.SimplePeer=sn.a;var un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.isInitiator,a=void 0!==n&&n,r=t.id,o=t.signal;Object(g.a)(this,e),this.isInitiator=a,this.remoteSignal=o,this.id=r}return Object(f.a)(e,[{key:"init",value:function(){return this.peer=new sn.a({initiator:this.isInitiator,trickle:!1}),this.setPeerEvents(),this}},{key:"setPeerEvents",value:function(){var e=this;console.log("set peer events"),this.peer.on("error",function(t){console.log("error",t),"function"===typeof e.onErrorCallback&&e.onErrorCallback(t)}),this.peer.on("close",function(t){console.log("close",t),e.reconnect()}),this.peer.on("signal",function(t){console.log("SIGNAL",JSON.stringify(t)),e.signal=t,"function"===typeof e.onSignalCallback&&e.onSignalCallback({signal:t,id:e.id})}),this.peer.on("connect",function(){console.log("--- CONNECT ---"),"function"===typeof e.onConnectCallback&&e.onConnectCallback()}),this.peer.on("data",function(t){console.log("data: "+t),"function"===typeof e.onDataCallback&&e.onDataCallback(t)}),window.peer=this.peer}},{key:"reconnect",value:function(){console.log("RECONNECT"),this.destroy(),this.init()}},{key:"onError",value:function(e){return this.onErrorCallback=e,this}},{key:"onData",value:function(e){return this.onDataCallback=e,this}},{key:"onSignal",value:function(e){return this.onSignalCallback=e,this}},{key:"onConnect",value:function(e){return this.onConnectCallback=e,this}},{key:"send",value:function(e){if(this.peer.connected){var t=JSON.stringify({payload:e});console.log("Peer SEND",t),this.peer.send(t)}}},{key:"connect",value:function(e){this.peer.signal(e)}},{key:"destroy",value:function(){this.peer.destroy()}}]),e}();window.Peer=un;var ln=un,pn=Gt.a.mark(fn),dn=Gt.a.mark(hn),gn=Gt.a.mark(bn);function fn(e){var t;return Gt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("-- MESSAGE",e),t=Object(vt.a)({},e,{type:"peer"}),n.next=4,Object(Mt.d)(ue(t));case 4:case"end":return n.stop()}},pn,this)}function hn(e){return Gt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("-- WRITING NOTIFICATION",e),t.next=3,Object(Mt.d)(le(e));case 3:case"end":return t.stop()}},dn,this)}function bn(e){return Gt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("-- CLEAR WRITING NOTIFICATION",e),t.next=3,Object(Mt.d)(pe(e));case 3:case"end":return t.stop()}},gn,this)}var mn={message:fn,writing_notification:hn,clear_writing_notification:bn},vn=Gt.a.mark(xn);function xn(e){var t,n,a;return Gt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=JSON.parse(e),n=t.payload,console.log("handle remote peer data",n),(a=n.type)in mn){r.next=6;break}return console.log("There is no handler for remote peer data type:",a),r.abrupt("return");case 6:return r.next=8,mn[a](n.data);case 8:case"end":return r.stop()}},vn,this)}var yn={signal:Gt.a.mark(function e(t){var n;return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,!t.storedSignal){e.next=4;break}return console.log("ALREADY GOT SIGNAL!"),e.abrupt("return");case 4:return e.next=6,Object(Mt.d)(on(n));case 6:case"end":return e.stop()}},e,this)}),connect:Gt.a.mark(function e(t){var n;return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,console.log("Peer connected!",n);case 2:case"end":return e.stop()}},e,this)}),data:Gt.a.mark(function e(t){var n;return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,xn(n);case 3:case"end":return e.stop()}},e,this)}),error:Gt.a.mark(function e(t){var n;return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,console.log("got error from remotePeer event channel",n);case 2:case"end":return e.stop()}},e,this)})},kn=Gt.a.mark(Cn),wn=Gt.a.mark(Tn),jn=Gt.a.mark(In),An=Gt.a.mark(Un),En=Gt.a.mark(Bn),On=Gt.a.mark(Vn);function Nn(e){return Object(dt.b)(function(t){return e.onSignal(function(e){t({type:"signal",data:e})}).onData(function(e){t({type:"data",data:e})}).onConnect(function(){t({type:"connect"})}).onError(function(e){console.log("Got ERROR from Peer:",e),t({type:"error",data:e})}),function(){console.log("Channel unsubscribe.")}})}function Cn(e){var t,n,a,r,o,i,c,s;return Gt.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,console.log("create remote peer",t),n=t.signal,t.id,u.next=6,Object(Mt.e)($t);case 6:return(a=u.sent).connect(n),r=Nn(a),u.next=11,Object(Mt.e)(en);case 11:o=u.sent,u.prev=12;case 13:return u.next=16,Object(Mt.f)(r);case 16:if(i=u.sent,c=i.type,s=i.data,console.log('[ REMOTE PEER ]: GOT "'.concat(c,'" DATA from EVENT CHANNEL:'),s),c in yn){u.next=23;break}return console.log("There is no handler for remote peer data type:",c),u.abrupt("return");case 23:return u.next=25,yn[c]({data:s,storedSignal:o});case 25:u.next=13;break;case 27:u.next=32;break;case 29:u.prev=29,u.t0=u.catch(12),console.log("[ REMOTE PEER ]: Event channel error",u.t0);case 32:return u.next=34,Object(Mt.d)(an({peer:"TODO"}));case 34:u.next=40;break;case 36:return u.prev=36,u.t1=u.catch(1),u.next=40,Object(Mt.d)(rn({error:u.t1.message||"Unknown error."}));case 40:case"end":return u.stop()}},kn,this,[[1,36],[12,29]])}function Sn(e){return Object(dt.b)(function(t){return e.onSignal(function(e){t({type:"signal",data:e})}).onData(function(e){console.log("Got DATA from Peer:",e),t({type:"data",data:e})}).onError(function(e){console.log("Got ERROR from Peer:",e),t({type:"error",data:e})}),function(){console.log("Channel unsubscribe.")}})}function Tn(e){var t,n,a,r,o,i,c;return Gt.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,console.log("create local peer",t),(n=new ln({id:t.id,isInitiator:t.isInitiator})).init(),s.next=7,Object(Mt.d)(tn({peer:n}));case 7:a=Sn(n),s.prev=8;case 9:return s.next=12,Object(Mt.f)(a);case 12:if(r=s.sent,o=r.type,i=r.data,console.log('[ LOCAL PEER ]: GOT "'.concat(o,'" DATA from EVENT CHANNEL:'),i),c={signal:Gt.a.mark(function e(t){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Mt.d)(on(t));case 2:case"end":return e.stop()}},e,this)}),data:function(e){var t=Gt.a.mark(n);function n(n){var a=arguments;return Gt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.apply(this,a),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}},t,this)}return n.toString=function(){return e.toString()},n}(Gt.a.mark(function e(t){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),error:Gt.a.mark(function e(t){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("got error from localPeer event channel",t);case 1:case"end":return e.stop()}},e,this)})},o in c){s.next=20;break}return console.log("There is no handler for remote peer data type:",o),s.abrupt("return");case 20:return s.next=22,c[o](i);case 22:s.next=9;break;case 24:s.next=29;break;case 26:s.prev=26,s.t0=s.catch(8),console.log("Event channel error",s.t0);case 29:s.next=35;break;case 31:return s.prev=31,s.t1=s.catch(1),s.next=35,Object(Mt.d)(nn({error:s.t1.message||"Unknown error."}));case 35:case"end":return s.stop()}},wn,this,[[1,31],[8,26]])}function In(e){var t;return Gt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,console.log("PEER Saga: send message",t),n.next=4,Object(Mt.e)($t);case 4:n.sent.send({type:"message",data:Object(vt.a)({},t)});case 6:case"end":return n.stop()}},jn,this)}function Un(e){var t;return Gt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,console.log("PEER Saga: send writing notification",t),n.next=4,Object(Mt.e)($t);case 4:n.sent.send({type:"writing_notification",data:{user:t,date:new Date}});case 6:case"end":return n.stop()}},An,this)}function Bn(e){var t;return Gt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,console.log("PEER Saga: send clear writing notification",t),n.next=4,Object(Mt.e)($t);case 4:n.sent.send({type:"clear_writing_notification",data:{user:t,date:new Date}});case 6:case"end":return n.stop()}},En,this)}function Vn(){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("peers saga"),e.next=3,Object(Mt.g)(wt,Tn);case 3:return e.next=5,Object(Mt.g)(jt,Cn);case 5:return e.next=7,Object(Mt.g)(ie,In);case 7:return e.next=9,Object(Mt.g)(ce,Un);case 9:return e.next=11,Object(Mt.g)(se,Bn);case 11:case"end":return e.stop()}},On,this)}var Rn=Gt.a.mark(Gn);function Gn(){return Gt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("load sagas"),e.next=3,Object(Mt.a)([Object(Mt.c)(Vn),Object(Mt.c)(_t)]);case 3:case"end":return e.stop()}},Rn,this)}var Mn=Object(dt.a)(),Dn=Object(gt.composeWithDevTools)(Object(y.applyMiddleware)(Mn)),Qn=Object(y.createStore)(Vt,Dn);Mn.run(Gn);var Jn=Qn,qn=function(){var e=Math.floor(34*Math.random())+0;return n(360)("./background".concat(e,".jpg"))};function Fn(){var e=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  background: black;\n  opacity: 0.7;\n"]);return Fn=function(){return e},e}function Yn(){var e=Object(c.a)(["\n  background: url(",") no-repeat;\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n  filter: blur(5px);\n"]);return Yn=function(){return e},e}var Kn=d.a.div(Yn(),qn()),Ln=d.a.div(Fn()),Wn=function(){return r.a.createElement(Kn,null,r.a.createElement(Ln,null))};function Pn(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Pn=function(){return e},e}var zn=Object(p.createMuiTheme)({typography:{useNextVariants:!0},palette:{type:"dark"}}),Hn=d.a.div(Pn()),Zn=function(){return r.a.createElement(p.MuiThemeProvider,{theme:zn},r.a.createElement(l.a,{store:Jn},r.a.createElement(Wn,null),r.a.createElement(Hn,null,r.a.createElement(s.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{path:"/",exact:!0,component:oe}),r.a.createElement(u.a,{path:"/chat",component:pt}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Zn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.f3b4887b.chunk.js.map