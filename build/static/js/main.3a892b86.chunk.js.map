{"version":3,"sources":["components/Background sync /^/.//background.*/.jpg$","components/Background/background.jpg","components/Background/background1.jpg","components/Background/background10.jpg","components/Background/background11.jpg","components/Background/background12.jpg","components/Background/background13.jpg","components/Background/background14.jpg","components/Background/background15.jpg","components/Background/background16.jpg","components/Background/background17.jpg","components/Background/background18.jpg","components/Background/background19.jpg","components/Background/background2.jpg","components/Background/background20.jpg","components/Background/background21.jpg","components/Background/background22.jpg","components/Background/background23.jpg","components/Background/background24.jpg","components/Background/background25.jpg","components/Background/background26.jpg","components/Background/background27.jpg","components/Background/background28.jpg","components/Background/background29.jpg","components/Background/background3.jpg","components/Background/background30.jpg","components/Background/background31.jpg","components/Background/background32.jpg","components/Background/background33.jpg","components/Background/background4.jpg","components/Background/background5.jpg","components/Background/background6.jpg","components/Background/background7.jpg","components/Background/background8.jpg","components/Background/background9.jpg","store/user/actionTypes.js","store/user/selectors.js","components/AvatarSelector/AvatarSelector.js","store/user/actions.js","components/Welcome/Welcome.js","pages/WelcomePage/WelcomePage.js","store/chat/actionTypes.js","store/chat/actions.js","store/chat/selectors.js","store/signaling/selectors.js","components/Avatar/Avatar.js","components/Message/Message.js","components/Notification/Notification.js","components/Chat/Chat.js","pages/ChatPage/ChatPage.js","store/welcome/reducer.js","store/welcome/actionTypes.js","store/chat/reducer.js","store/signaling/actionTypes.js","store/signaling/reducer.js","store/peers/actionTypes.js","store/peers/reducer.js","store/user/reducer.js","reducers.js","store/signaling/actions.js","services/signaling.js","store/signaling/sagas.js","store/peers/selectors.js","store/peers/actions.js","services/peer.js","store/peers/sagas.js","store/chat/sagas.js","sagas.js","store.js","components/Background/Background.js","components/Header/Header.js","App.js","serviceWorker.js","index.js"],"names":["map","./background.jpg","./background1.jpg","./background10.jpg","./background11.jpg","./background12.jpg","./background13.jpg","./background14.jpg","./background15.jpg","./background16.jpg","./background17.jpg","./background18.jpg","./background19.jpg","./background2.jpg","./background20.jpg","./background21.jpg","./background22.jpg","./background23.jpg","./background24.jpg","./background25.jpg","./background26.jpg","./background27.jpg","./background28.jpg","./background29.jpg","./background3.jpg","./background30.jpg","./background31.jpg","./background32.jpg","./background33.jpg","./background4.jpg","./background5.jpg","./background6.jpg","./background7.jpg","./background8.jpg","./background9.jpg","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","SET_ID","getUser","state","user","icons","Wrapper","styled","div","_templateObject","IconsList","_templateObject2","StyledIcon","Icon","_templateObject3","AvatarSelector","isModalOpen","openModal","_this","setState","closeModal","selectAvatar","avatar","console","log","props","setAvatar","_this2","this","_this$props","classes","react_default","a","createElement","Fragment","onClick","Icon_default","style","fontSize","Modal_default","open","onClose","className","paper","icon","key","React","PureComponent","mapActionsToProps","payload","type","compose","withStyles","theme","position","width","spacing","unit","backgroundColor","color","boxShadow","shadows","padding","outline","top","left","right","margin","connect","StyledCard","Card","Welcome_templateObject","Form","Welcome_templateObject2","Welcome","Typography","Welcome_templateObject3","userId","nanoid","name","openingChat","onNameChange","_ref","value","target","trim","createChat","setName","history","push","onKey","_ref2","setUserId","card","CardContent_default","Typography_default","variant","component","components_AvatarSelector_AvatarSelector","TextField_default","label","onChange","onKeyPress","autoFocus","buttonContainer","Button_default","disabled","CircularProgress_default","size","buttonProgress","minWidth","background","marginTop","marginLeft","withRouter","WelcomePage","components_Welcome_Welcome","SEND_MESSAGE","SEND_WRITING_NOTIFICATION","SEND_CLEAR_WRITING_NOTIFICATION","addMessage","sendMessageFailed","addWritingNotification","removeWritingNotification","getMessages","chat","messages","getWritingNotifications","writingNotifications","getIsInitiator","signaling","isInitiator","getShareUrl","shareUrl","Avatar","Message_templateObject","Content","Message_templateObject2","Date","Message_templateObject3","Text","_templateObject4","_ref3","_ref4","Message","_ref5","text","date","_ref5$type","Message_Wrapper","components_Avatar_Avatar","Message_Date","moment","format","Notification_templateObject","Notification_templateObject2","Notification_templateObject3","Notification_templateObject4","ActionButtonWrapper","_templateObject5","Notification","_ref$actionButton","actionButton","Notification_Wrapper","Notification_Content","Notification_Text","Notification_Date","Chat_templateObject","Chat_templateObject2","Footer","Chat_templateObject3","Messages","Chat_templateObject4","Chat_templateObject5","StyledText","TextField","_templateObject6","StyledIconButton","_templateObject7","IconButton","_templateObject8","Chat","writingNotificationTimeout","writingNotificationDelay","message","onMessageChange","scheduleWritingNotification","sendMessage","clearTimeout","_this$props2","_this$props3","sendClearWritingNotification","setTimeout","_this2$props","sendWritingNotification","_this$props4","ActionButton","react_clipboard_default","data-clipboard-text","components_Notification_Notification","concat","InitiatorInitNotification","PeerInitNotification","_this$props5","sending","notifications","Chat_Wrapper","Chat_Content","getInitNofication","i","components_Message_Message","notification","LinearProgress_default","Chat_StyledText","progress","ChatPage","components_Chat_Chat","defaultState","handlers","defineProperty","reducer","arguments","length","undefined","action","_handlers","objectSpread","filter","INIT_SUCCESS","GOT_REMOTE_SIGNAL","error","signaling_reducer_handlers","SET_SIGNAL","signal","peer","peers","peers_reducer_handlers","user_reducer_handlers","reducers","combineReducers","welcome","initSuccess","initFailed","sendSignalSuccess","sendSignalError","gotRemoteSignal","Signaling","classCallCheck","baseUrl","window","location","protocol","host","initiatorId","getInitiatorId","onErrorCallback","setSharingUrl","channelName","hub","signalhub","subscribe","on","onSignalMessage","broadcast","onRemoteSignalCallback","callback","hash","substr","init","send","signalingSagas","getSignalingEventChannel","eventChannel","emitter","onRemoteSignal","data","channel","regenerator_default","wrap","_context","prev","next","put","take","sent","t0","abrupt","t1","stop","_marked","_context2","setSignal","_marked2","_context3","takeEvery","call","_marked3","getPeer","getSignal","createLocalPeerSuccess","createLocalPeerFailed","createRemotePeerSuccess","createRemotePeerFailed","SimplePeer","Peer","_ref$isInitiator","remoteSignal","initiator","trickle","setPeerEvents","err","reconnect","JSON","stringify","onSignalCallback","onConnectCallback","onDataCallback","destroy","connected","handleRemotePeerData","createRemotePeer","createLocalPeer","getRemotePeerEventChannel","remotePeer","onSignal","onData","onConnect","onError","_JSON$parse","parse","sagas_marked","storedSignal","select","t2","sagas_marked2","getLocalPeerEventChannel","localPeer","_type","_data","sagas_marked3","_ref6","_context4","_marked4","_ref7","_context5","_marked5","_ref8","_context6","_marked6","_context7","_marked7","chatSagas","chat_sagas_marked","takeLatest","chat_sagas_marked2","saga","all","fork","src_sagas_marked","sagaMiddleware","createSagaMiddleware","middleware","composeWithDevTools","applyMiddleware","store","createStore","run","sagas","Background_templateObject","Math","floor","random","require","getImage","Fade","Background_templateObject2","Background","Background_Wrapper","Header_templateObject","Header","Header_Wrapper","createMuiTheme","typography","useNextVariants","palette","App_templateObject","App","styles","es","components_Background_Background","App_Wrapper","components_Header_Header","BrowserRouter","Route","path","exact","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3a892b86.chunk.js","sourcesContent":["var map = {\n\t\"./background.jpg\": 360,\n\t\"./background1.jpg\": 361,\n\t\"./background10.jpg\": 362,\n\t\"./background11.jpg\": 363,\n\t\"./background12.jpg\": 364,\n\t\"./background13.jpg\": 365,\n\t\"./background14.jpg\": 366,\n\t\"./background15.jpg\": 367,\n\t\"./background16.jpg\": 368,\n\t\"./background17.jpg\": 369,\n\t\"./background18.jpg\": 370,\n\t\"./background19.jpg\": 371,\n\t\"./background2.jpg\": 372,\n\t\"./background20.jpg\": 373,\n\t\"./background21.jpg\": 374,\n\t\"./background22.jpg\": 375,\n\t\"./background23.jpg\": 376,\n\t\"./background24.jpg\": 377,\n\t\"./background25.jpg\": 378,\n\t\"./background26.jpg\": 379,\n\t\"./background27.jpg\": 380,\n\t\"./background28.jpg\": 381,\n\t\"./background29.jpg\": 382,\n\t\"./background3.jpg\": 383,\n\t\"./background30.jpg\": 384,\n\t\"./background31.jpg\": 385,\n\t\"./background32.jpg\": 386,\n\t\"./background33.jpg\": 387,\n\t\"./background4.jpg\": 388,\n\t\"./background5.jpg\": 389,\n\t\"./background6.jpg\": 390,\n\t\"./background7.jpg\": 391,\n\t\"./background8.jpg\": 392,\n\t\"./background9.jpg\": 393\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 359;","module.exports = __webpack_public_path__ + \"static/media/background.c9f543ff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background1.7710c20b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background10.4870880e.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/background12.e2b9de50.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background13.67d967c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background14.627e10b8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background15.018e1aa4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background16.84b50e30.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background17.6383d3ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background18.017251e1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background19.d3f1fb58.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background2.defe7d35.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background20.25830afd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background21.a88b459b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background22.cf471bf1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background23.b95ec159.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background24.c5221388.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background25.a4dd1795.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background26.47252b33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background27.2c1177fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background28.09d1cb30.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background29.45dbc75e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background3.759424bc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background30.70f9a4ae.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background31.61178f20.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background32.0c56ad87.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background33.cd78673a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background4.0d76741c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background5.f6a355e0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background6.579abfd7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background7.47b8612f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background8.9488fbb1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background9.f3f05df6.jpg\";","export const SET_NAME = 'peer-chat/user/set-name'\nexport const SET_AVATAR = 'peer-chat/user/set-avatar'\nexport const SET_ID = 'peer-chat/user/set-id'\n","export const getUser = state => state.user\n","import React from 'react'\nimport styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { getAvatar } from 'store/user/selectors'\nimport { setAvatar } from 'store/user/actions'\nimport { withStyles } from '@material-ui/core/styles'\nimport Icon from '@material-ui/core/Icon'\nimport Modal from '@material-ui/core/Modal'\n\nconst icons = [\n  'accessibility_new',\n  'account_box',\n  'account_circle',\n  'android',\n  'aspect_ratio',\n  'autorenew',\n  'backup',\n  'bookmark',\n  'bug_report',\n  'build',\n  'camera_enhance',\n  'card_giftcard',\n  'change_history',\n  'check_circle',\n  'code',\n  'copyright',\n  'credit_card',\n  'dashboard',\n  'description',\n  'done',\n  'drag_indicator',\n  'eject',\n  'euro_symbol',\n  'explore',\n  'extension',\n  'face',\n  'favorite',\n  'fingerprint',\n  'grade',\n  'help',\n  'home',\n  'hourglass_empty',\n  'https',\n  'language',\n  'lock',\n  'lock_open',\n  'motorcycle',\n  'offline_bolt',\n  'pan_tool',\n  'pets',\n  'power_settings_new',\n  'pregnant_woman',\n  'room',\n  'rowing',\n  'stars',\n  'verified_user',\n  'explicit',\n  'flash_on'\n]\n\nconst Wrapper = styled.div`\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`\n\nconst styles = theme => ({\n  paper: {\n    position: 'absolute',\n    width: theme.spacing.unit * 50,\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    color: 'black',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n    outline: 'none',\n    top: '20%',\n    left: 0,\n    right: 0,\n    margin: 'auto'\n  }\n})\n\nconst IconsList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`\n\nconst StyledIcon = styled(Icon)`\n  cursor: pointer;\n  :hover {\n    color: white;\n  }\n`\n\nclass AvatarSelector extends React.PureComponent {\n  state = {\n    isModalOpen: false\n  }\n\n  openModal = () => {\n    this.setState({ isModalOpen: true })\n  }\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false })\n  }\n\n  selectAvatar = avatar => {\n    console.log('selected avatar', avatar)\n    this.props.setAvatar({ avatar })\n    this.closeModal()\n  }\n\n  render() {\n    const { classes, avatar } = this.props\n    return (\n      <>\n        <Wrapper onClick={this.openModal}>\n          <Icon style={{ fontSize: '50px' }}>{avatar}</Icon>\n        </Wrapper>\n\n        <Modal open={this.state.isModalOpen} onClose={this.closeModal}>\n          <div className={classes.paper}>\n            <h4>SELECT AVATAR</h4>\n            <IconsList>\n              {icons.map(icon => (\n                <StyledIcon\n                  key={icon}\n                  style={{ fontSize: '50px' }}\n                  onClick={() => this.selectAvatar(icon)}\n                >\n                  {icon}\n                </StyledIcon>\n              ))}\n            </IconsList>\n          </div>\n        </Modal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  avatar: state.user.avatar\n})\n\nconst mapActionsToProps = {\n  setAvatar\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapActionsToProps\n  )\n)(AvatarSelector)\n","import { SET_NAME, SET_AVATAR, SET_ID } from './actionTypes'\n\nexport const setName = payload => ({\n  type: SET_NAME,\n  payload\n})\n\nexport const setAvatar = payload => ({\n  type: SET_AVATAR,\n  payload\n})\n\nexport const setId = payload => ({\n  type: SET_ID,\n  payload\n})\n","import React from 'react'\nimport nanoid from 'nanoid'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { setName, setId as setUserId } from 'store/user/actions'\nimport { withRouter } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\nimport TextField from '@material-ui/core/TextField'\nimport AvatarSelector from 'components/AvatarSelector'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst StyledCard = styled(Card)`\n  h2 {\n    margin: 0 0 10px;\n  }\n\n  p {\n    margin: 30px 10px 10px;\n  }\n`\n\nconst Form = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n\n  @media (max-width: 1024px) {\n    flex-direction: column;\n  }\n`\n\nconst StyledText = styled(Typography)`\n  margin: 0 0 10px;\n`\n\nconst styles = {\n  card: {\n    minWidth: 300,\n    width: '40%',\n    background: 'rgba(0,0,0,0.5)'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  buttonContainer: {\n    position: 'relative'\n  }\n}\n\nclass Welcome extends React.PureComponent {\n  userId = nanoid(12)\n  state = {\n    name: '',\n    openingChat: false\n  }\n\n  componentDidMount() {\n    this.props.setUserId({ id: this.userId })\n  }\n\n  onNameChange = ({ target: { value } }) => {\n    this.setState({ name: value.trim() })\n  }\n\n  createChat = () => {\n    console.log('== create chat ==')\n    this.setState({ openingChat: true })\n    this.props.setName({ name: this.state.name })\n    this.props.history.push('/chat')\n  }\n\n  onKey = ({ key }) => {\n    if (key !== 'Enter' || !this.state.name) return\n    this.createChat()\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <StyledCard className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\">\n            Welcome!\n          </Typography>\n          <Typography color=\"textSecondary\">\n            <b>Peer Chat</b> is a peer to peer chat application that uses{' '}\n            <b>WebRTC data channels</b> to send messages between peers.\n          </Typography>\n          <Typography component=\"p\">Let's create a new chat!</Typography>\n\n          <Form>\n            <AvatarSelector />\n            <TextField\n              id=\"name\"\n              label=\"Name\"\n              value={this.state.name}\n              onChange={this.onNameChange}\n              margin=\"normal\"\n              variant=\"outlined\"\n              onKeyPress={this.onKey}\n              autoFocus\n            />\n            <div className={classes.buttonContainer}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={!this.state.name || this.state.openingChat}\n                onClick={this.createChat}\n              >\n                Create chat\n              </Button>\n              {this.state.openingChat && (\n                <CircularProgress\n                  size={24}\n                  className={classes.buttonProgress}\n                />\n              )}\n            </div>\n          </Form>\n        </CardContent>\n      </StyledCard>\n    )\n  }\n}\n\nconst mapActionsToProps = { setName, setUserId }\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    null,\n    mapActionsToProps\n  ),\n  withRouter\n)(Welcome)\n","import React from 'react'\nimport Welcome from 'components/Welcome'\n\nconst WelcomePage = () => <Welcome />\n\nexport default WelcomePage\n","export const ADD_MESSAGE = 'peer-chat/chat/add-message'\nexport const SEND_MESSAGE = 'peer-chat/chat/send-message'\nexport const SEND_MESSAGE_SUCCESS = 'peer-chat/chat/send-message-success'\nexport const SEND_MESSAGE_FAILED = 'peer-chat/chat/send-message-failed'\nexport const ADD_WRITING_NOTIFICATION =\n  'peer-chat/chat/add-writing-notification'\nexport const REMOVE_WRITING_NOTIFICATION =\n  'peer-chat/chat/remove-writing-notification'\nexport const SEND_WRITING_NOTIFICATION =\n  'peer-chat/chat/send-writing-notification'\nexport const SEND_CLEAR_WRITING_NOTIFICATION =\n  'peer-chat/chat/send-clear-writing-notification'\n","import {\n  ADD_MESSAGE,\n  SEND_MESSAGE,\n  SEND_MESSAGE_SUCCESS,\n  SEND_MESSAGE_FAILED,\n  ADD_WRITING_NOTIFICATION,\n  REMOVE_WRITING_NOTIFICATION,\n  SEND_WRITING_NOTIFICATION,\n  SEND_CLEAR_WRITING_NOTIFICATION\n} from './actionTypes'\n\nexport const addMessage = payload => ({\n  type: ADD_MESSAGE,\n  payload\n})\n\nexport const sendMessage = payload => ({\n  type: SEND_MESSAGE,\n  payload\n})\n\nexport const sendMessageSuccess = () => ({\n  type: SEND_MESSAGE_SUCCESS\n})\n\nexport const sendMessageFailed = () => ({\n  type: SEND_MESSAGE_FAILED\n})\n\nexport const addWritingNotification = payload => ({\n  type: ADD_WRITING_NOTIFICATION,\n  payload\n})\n\nexport const removeWritingNotification = payload => ({\n  type: REMOVE_WRITING_NOTIFICATION,\n  payload\n})\n\nexport const sendWritingNotification = payload => ({\n  type: SEND_WRITING_NOTIFICATION,\n  payload\n})\n\nexport const sendClearWritingNotification = payload => ({\n  type: SEND_CLEAR_WRITING_NOTIFICATION,\n  payload\n})\n","export const getMessages = state => state.chat.messages\nexport const getWritingNotifications = state => state.chat.writingNotifications\n","export const getIsInitiator = state => state.signaling.isInitiator\nexport const getShareUrl = state => state.signaling.shareUrl\n","import React from 'react'\nimport Icon from '@material-ui/core/Icon'\n\nconst Avatar = ({ avatar }) => (\n  <Icon style={{ fontSize: '50px' }}>{avatar}</Icon>\n)\n\nexport default Avatar\n","import React from 'react'\nimport moment from 'moment'\nimport styled from 'styled-components'\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from 'components/Avatar'\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  margin-bottom: 5px;\n\n  ${({ type }) => {\n    if (type === 'peer') {\n      return `\n        flex-direction: row;\n      `\n    }\n  }}\n`\n\nconst Content = styled.div`\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: flex-end;\n\n  ${({ type }) => {\n    if (type === 'peer') {\n      return `\n        justify-content: flex-start;\n      `\n    }\n\n    if (type === 'notification') {\n      return `\n        justify-content: center;\n      `\n    }\n  }}\n`\n\nconst Date = styled.div`\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #aaa;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n`\n\nconst Text = styled.div`\n  width: 50%;\n  background: rgba(150, 150, 150, 0.2);\n  color: #eee;\n  padding: 20px 10px 5px 10px;\n  border-radius: 5px;\n  min-width: 220px;\n  position: relative;\n  overflow: hidden;\n\n  > p {\n    word-break: break-word;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px 0 5px 7px;\n    border-color: transparent transparent transparent rgba(150, 150, 150, 0.2);\n    position: absolute;\n    top: 9px;\n    right: -7px;\n\n    ${({ type }) => {\n    if (type === 'peer') {\n      return `\n          border-width: 5px 7px 5px 0;\n          border-color: transparent rgba(150, 150, 255, 0.2) transparent transparent;\n          left: -7px;\n        `\n    }\n\n    if (type === 'notification') {\n      return `\n        display: none;\n      `\n    }\n  }}\n  }\n\n  ${({ type }) => {\n    if (type === 'peer') {\n      return `\n        background: rgba(150, 150, 255, 0.2);\n      `\n    }\n\n    if (type === 'notification') {\n      return `\n        background: rgba(0, 0, 0, 0.2);\n      `\n    }\n  }}\n`\n\n/**\n * Returns a message component.\n * Params:\n * {\n *  user: {name, avatar},\n *  text: 'The message',\n *  date: Date Object,\n *  type: [notification|own|peer]\n * }\n *\n * @param {obj}\n */\nconst Message = ({ user, text, date, type = 'own' }) => (\n  <Wrapper type={type}>\n    <Avatar avatar={user.avatar} />\n    <Content type={type}>\n      <Text type={type}>\n        <Date>\n          <p>{moment(date).format('MMMM Do YYYY, h:mm a')}</p>\n        </Date>\n        <Typography>\n          <b>{user.name}</b>\n        </Typography>\n        <span>{text}</span>\n      </Text>\n    </Content>\n  </Wrapper>\n)\n\nexport default Message\n","import React from 'react'\nimport moment from 'moment'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  margin-bottom: 5px;\n`\n\nconst Content = styled.div`\n  width: 50%;\n  display: flex;\n  width: 100%;\n  margin: 0 10px;\n  justify-content: center;\n`\n\nconst Date = styled.div`\n  position: absolute;\n  top: 5px;\n  left: 10px;\n\n  p {\n    color: #444;\n    font-size: 0.75rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.03333em;\n    margin: 0;\n  }\n`\n\nconst backgroundColor = 'rgba(255, 255, 255, 0.5)'\n\nconst Text = styled.div`\n  width: 50%;\n  background: ${backgroundColor};\n  padding: 20px 10px 5px 10px;\n  border-radius: 2px;\n  min-width: 220px;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n\n  > p {\n    color: #222;\n    font-size: 0.85rem;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 400;\n    margin: 0;\n  }\n\n  :before {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 0 12px 15px;\n    border-color: transparent transparent transparent ${backgroundColor};\n    position: absolute;\n    top: 0;\n    right: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n\n  :after {\n    content: '';\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 12px 15px 12px 0;\n    border-color: transparent ${backgroundColor} transparent transparent;\n    position: absolute;\n    top: 0;\n    left: -15px;\n    bottom: 0;\n    margin: auto;\n  }\n`\n\nconst ActionButtonWrapper = styled.div`\n  position: absolute;\n  top: 2px;\n  right: 0px;\n`\n\nconst Notification = ({ text, date, actionButton = '' }) => (\n  <Wrapper>\n    <Content>\n      <Text>\n        <Date>\n          <p>{moment(date).format('MMMM Do YYYY, h:mm:ss a')}</p>\n        </Date>\n        <p>{text}</p>\n        <ActionButtonWrapper>{actionButton}</ActionButtonWrapper>\n      </Text>\n    </Content>\n  </Wrapper>\n)\n\nexport default Notification\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport Clipboard from 'react-clipboard.js'\nimport {\n  sendMessage,\n  sendWritingNotification,\n  sendClearWritingNotification\n} from 'store/chat/actions'\nimport { getMessages, getWritingNotifications } from 'store/chat/selectors'\nimport { getIsInitiator, getShareUrl } from 'store/signaling/selectors'\nimport { getUser } from 'store/user/selectors'\nimport styled from 'styled-components'\nimport { withStyles } from '@material-ui/core/styles'\nimport TextField from '@material-ui/core/TextField'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Icon from '@material-ui/core/Icon'\nimport IconButton from '@material-ui/core/IconButton'\nimport Message from 'components/Message'\nimport Notification from 'components/Notification'\n\nconst Wrapper = styled.div`\n  max-width: 640px;\n  width: 100%;\n  position: absolute;\n  height: calc(100% - 90px);\n  top: 70px;\n\n  @media (max-width: 800px) {\n    max-width: 100%;\n  }\n`\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 20px 20px 0 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n`\n\nconst Footer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`\n\nconst Header = styled.div`\n  width: 100%;\n`\n\nconst Messages = styled.div`\n  flex: 1;\n  overflow: scroll;\n`\n\nconst StyledText = styled(TextField)`\n  flex: 1;\n`\n\nconst styles = {\n  progress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}\n\nconst InitiatorNotificationWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\n\nconst StyledIconButton = styled(IconButton)`\n  position: absolute;\n  top: -1px;\n  right: 10px;\n`\n\nconst InitiatorInitNotification = ({ user, shareUrl }) => {\n  const ActionButton = (\n    <Clipboard data-clipboard-text={shareUrl} component=\"a\">\n      <StyledIconButton id=\"share-link\">\n        <Icon style={{ fontSize: '16px' }}>insert_link</Icon>\n      </StyledIconButton>\n    </Clipboard>\n  )\n\n  return (\n    <Notification\n      text={`${user.name} created chat.`}\n      date={new Date()}\n      actionButton={ActionButton}\n    />\n  )\n}\n\nconst PeerInitNotification = user => (\n  <Notification text={`${user.name} joined chat.`} date={new Date()} />\n)\n\nclass Chat extends React.PureComponent {\n  writingNotificationTimeout = null\n  writingNotificationDelay = 3 // Seconds.\n\n  state = {\n    message: ''\n  }\n\n  componentDidMount() {\n    // Redirect to welcome page if user not set.\n    const { user, history, isInitiator, shareUrl } = this.props\n    if (!user.id) {\n      return history.push('/')\n    }\n  }\n\n  scheduleWritingNotification(value) {\n    // Clear writing notification if the user cleared the message.\n    // Also send a clearWritingNotification message to remote peer.\n    if (!value) {\n      const { sendClearWritingNotification, user } = this.props\n      clearTimeout(this.writingNotificationTimeout)\n      this.writingNotificationTimeout = null\n      sendClearWritingNotification(user)\n      return\n    }\n\n    // Avoid scheduling a writing notification if we already did.\n    if (this.writingNotificationTimeout) return\n\n    // Schedule writing notification.\n    console.log('Schedule writing notification...')\n    this.writingNotificationTimeout = setTimeout(() => {\n      const { user, sendWritingNotification } = this.props\n      sendWritingNotification(user)\n    }, 1000 * this.writingNotificationDelay)\n  }\n\n  onMessageChange = ({ target: { value } }) => {\n    this.setState({ message: value })\n    this.scheduleWritingNotification(value)\n  }\n\n  onKey = ({ key }) => {\n    if (key !== 'Enter') return\n\n    const { user, sendMessage } = this.props\n    sendMessage({\n      user,\n      text: this.state.message,\n      date: new Date(),\n      type: 'own'\n    })\n    this.setState({ message: '' })\n\n    // Clear writing notification.\n    clearTimeout(this.writingNotificationTimeout)\n    this.writingNotificationTimeout = null\n  }\n\n  getInitNofication() {\n    const { user, isInitiator, shareUrl } = this.props\n    if (isInitiator) return InitiatorInitNotification({ user, shareUrl })\n    return PeerInitNotification(user)\n  }\n\n  render() {\n    const {\n      classes,\n      sending,\n      user,\n      messages,\n      notifications,\n      isInitiator\n    } = this.props\n    return (\n      <Wrapper>\n        <Content>\n          <Messages>\n            {this.getInitNofication()}\n            {/* <Message\n              user={{ name: 'Bert', avatar: 'photo_camera' }}\n              text=\"Yo!\"\n              date={new Date()}\n              type=\"own\"\n            />\n            <Message\n              user={{ name: 'Jane', avatar: 'stars' }}\n              text=\"Hi!\"\n              date={new Date()}\n              type=\"peer\"\n            /> */}\n            {messages.map((message, i) => (\n              <Message\n                key={`message-${i}`}\n                user={message.user}\n                text={message.text}\n                date={message.date}\n                type={message.type}\n              />\n            ))}\n\n            {notifications.map(notification => (\n              <Message\n                key={notification.user.id}\n                user={notification.user}\n                text={<LinearProgress />}\n                date={notification.date}\n                type=\"peer\"\n              />\n            ))}\n          </Messages>\n\n          <Footer>\n            <StyledText\n              id=\"name\"\n              label=\"Message\"\n              value={this.state.message}\n              onChange={this.onMessageChange}\n              onKeyPress={this.onKey}\n              margin=\"normal\"\n              autoFocus\n            />\n            {sending && (\n              <CircularProgress size={24} className={classes.progress} />\n            )}\n          </Footer>\n        </Content>\n      </Wrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n  messages: getMessages(state),\n  notifications: getWritingNotifications(state),\n  isInitiator: getIsInitiator(state),\n  shareUrl: getShareUrl(state)\n})\n\nconst mapActionsToProps = {\n  sendMessage,\n  sendWritingNotification,\n  sendClearWritingNotification\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapActionsToProps\n  ),\n  withRouter\n)(Chat)\n","import React from 'react'\nimport Chat from 'components/Chat'\n\nconst ChatPage = () => <Chat />\n\nexport default ChatPage\n","import { SET_USER } from './actionTypes'\n\nconst defaultState = {\n  name: '',\n  avatar: ''\n}\n\nconst handlers = {\n  [SET_USER]: (state, { payload }) => ({\n    name: payload.name,\n    avatar: payload.avatar\n  })\n}\n\nconst reducer = (state = defaultState, action) => {\n  if (!(action.type in handlers)) return defaultState\n  return handlers[action.type](state, action)\n}\nexport default reducer\n","export const SET_USER = 'peer-chat/welcome/set-user'\n","import {\n  ADD_MESSAGE,\n  SEND_MESSAGE,\n  ADD_WRITING_NOTIFICATION,\n  REMOVE_WRITING_NOTIFICATION\n} from './actionTypes'\n\nconst defaultState = {\n  messages: [],\n  writingNotifications: []\n}\n\nconst handlers = {\n  [SEND_MESSAGE]: (state, { payload }) => ({\n    ...state,\n    messages: state.messages.concat([payload])\n  }),\n  [ADD_MESSAGE]: (state, { payload }) => ({\n    ...state,\n    writingNotifications: state.writingNotifications.filter(\n      notification => notification.user.id !== payload.user.id\n    ),\n    messages: state.messages.concat([payload])\n  }),\n  [ADD_WRITING_NOTIFICATION]: (state, { payload }) => ({\n    ...state,\n    writingNotifications: state.writingNotifications.concat([payload])\n  }),\n  [REMOVE_WRITING_NOTIFICATION]: (state, { payload }) => ({\n    ...state,\n    writingNotifications: state.writingNotifications.filter(\n      notification => notification.user.id !== payload.user.id\n    )\n  })\n}\n\nconst reducer = (state = defaultState, action) => {\n  if (!(action.type in handlers)) return state\n  return handlers[action.type](state, action)\n}\nexport default reducer\n","export const INIT = 'peer-chat/signaling/init'\nexport const INIT_SUCCESS = 'peer-chat/signaling/init-success'\nexport const INIT_FAILED = 'peer-chat/signaling/init-failed'\nexport const SEND_SIGNAL = 'peer-chat/signaling/send-signal'\nexport const SEND_SIGNAL_SUCCESS = 'peer-chat/signaling/send-signal-success'\nexport const SEND_SIGNAL_ERROR = 'peer-chat/signaling/send-signal-error'\nexport const GOT_REMOTE_SIGNAL = 'peer-chat/signaling/got-remote-signal'\n","import { INIT_SUCCESS, INIT_FAILED } from './actionTypes'\n\nconst defaultState = {\n  id: '',\n  isInitiator: false,\n  shareUrl: '',\n  error: ''\n}\n\nconst handlers = {\n  [INIT_FAILED]: (state, { payload }) => ({\n    ...defaultState,\n    error: payload.error\n  }),\n  [INIT_SUCCESS]: (state, { payload }) => ({\n    ...state,\n    id: payload.id,\n    isInitiator: payload.isInitiator,\n    shareUrl: payload.shareUrl\n  })\n}\n\nconst reducer = (state = defaultState, action) => {\n  if (!(action.type in handlers)) return state\n  return handlers[action.type](state, action)\n}\nexport default reducer\n","export const CREATE_LOCAL_PEER = 'peer-chat/peers/create-local-peer'\nexport const CREATE_LOCAL_PEER_SUCCESS =\n  'peer-chat/peers/create-local-peer-success'\nexport const CREATE_LOCAL_PEER_FAILED =\n  'peer-chat/peers/create-local-peer-failed'\nexport const CREATE_REMOTE_PEER = 'peer-chat/peers/create-remote-peer'\nexport const CREATE_REMOTE_PEER_SUCCESS =\n  'peer-chat/peers/create-remote-peer-success'\nexport const CREATE_REMOTE_PEER_FAILED =\n  'peer-chat/peers/create-remote-peer-failed'\nexport const CREATE_FAILED = 'peer-chat/peers/create-failed'\nexport const DESTROY = 'peer-chat/peers/destroy'\nexport const ADD = 'peer-chat/peers/add'\nexport const REMOVE = 'peer-chat/peers/remove'\nexport const SET_SIGNAL = 'peer-chat/peers/set-signal'\n","import { SET_SIGNAL, CREATE_LOCAL_PEER_SUCCESS } from './actionTypes'\n\nconst defaultState = {\n  id: null,\n  signal: null,\n  peer: null,\n  peers: []\n}\n\nconst handlers = {\n  [SET_SIGNAL]: (state, { payload }) => ({\n    ...state,\n    id: payload.id,\n    signal: payload.signal\n  }),\n  [CREATE_LOCAL_PEER_SUCCESS]: (state, { payload }) => ({\n    ...state,\n    peer: payload.peer\n  })\n}\n\nconst reducer = (state = defaultState, action) => {\n  if (!(action.type in handlers)) return state\n  return handlers[action.type](state, action)\n}\nexport default reducer\n","import { SET_NAME, SET_AVATAR, SET_ID } from './actionTypes'\n\nconst defaultState = {\n  name: '',\n  avatar: 'account_circle'\n}\n\nconst handlers = {\n  [SET_NAME]: (state, { payload }) => ({\n    ...state,\n    name: payload.name\n  }),\n  [SET_AVATAR]: (state, { payload }) => ({\n    ...state,\n    avatar: payload.avatar\n  }),\n  [SET_ID]: (state, { payload }) => ({\n    ...state,\n    id: payload.id\n  })\n}\n\nconst reducer = (state = defaultState, action) => {\n  if (!(action.type in handlers)) return state\n  return handlers[action.type](state, action)\n}\nexport default reducer\n","import { combineReducers } from 'redux'\nimport welcome from 'store/welcome/reducer'\nimport chat from 'store/chat/reducer'\nimport signaling from 'store/signaling/reducer'\nimport peers from 'store/peers/reducer'\nimport user from 'store/user/reducer'\n\nconst reducers = combineReducers({\n  welcome,\n  chat,\n  signaling,\n  peers,\n  user\n})\n\nexport default reducers\n","import {\n  INIT,\n  INIT_SUCCESS,\n  INIT_FAILED,\n  SEND_SIGNAL,\n  SEND_SIGNAL_SUCCESS,\n  SEND_SIGNAL_ERROR,\n  GOT_REMOTE_SIGNAL\n} from './actionTypes'\n\nexport const init = () => ({\n  type: INIT\n})\n\nexport const initSuccess = payload => ({\n  type: INIT_SUCCESS,\n  payload\n})\n\nexport const initFailed = payload => ({\n  type: INIT_FAILED,\n  payload\n})\n\nexport const sendSignal = payload => ({\n  type: SEND_SIGNAL,\n  payload\n})\n\nexport const sendSignalSuccess = payload => ({\n  type: SEND_SIGNAL_SUCCESS,\n  payload\n})\n\nexport const sendSignalError = payload => ({\n  type: SEND_SIGNAL_ERROR,\n  payload\n})\n\nexport const gotRemoteSignal = payload => ({\n  type: GOT_REMOTE_SIGNAL,\n  payload\n})\n","import signalhub from 'signalhub'\nimport nanoid from 'nanoid'\n\nclass Signaling {\n  constructor () {\n    this.baseUrl = `${window.location.protocol}//${window.location.host}`\n    this.id = nanoid(12)\n    this.initiatorId = this.getInitiatorId()\n    this.isInitiator = !this.initiatorId\n    this.onErrorCallback = null\n\n    // Set sharing URL only when not connecting to an initiator.\n    // The initiator creates sharing.\n    this.shareUrl = ''\n    if (this.isInitiator) this.setSharingUrl()\n  }\n\n  setSharingUrl () {\n    this.shareUrl = `${this.baseUrl}#${this.id}`\n  }\n\n  setSignal (signal) {\n    this.signal = signal\n  }\n\n  init () {\n    console.log('PEER ID', this.id)\n    console.log('INITIATOR ID:', this.initiatorId)\n    this.channelName = this.initiatorId || this.id\n    console.log('CHANNEL', this.channelName)\n    this.hub = signalhub('peer-chat', [\n      'https://peer-chat-signalhub.herokuapp.com'\n    ])\n    this.hub\n      .subscribe(this.channelName)\n      .on('data', message => this.onSignalMessage(message))\n\n    // If not the initiator, request offer to initiator.\n    if (!this.isInitiator) {\n      console.log('Signaling: SEND REQUEST MSG')\n      this.hub.broadcast(this.channelName, { id: this.id, type: 'request' })\n    }\n\n    return this\n  }\n\n  onSignalMessage (message) {\n    console.log('new message received', message)\n    const { signal, id, type } = message || {}\n\n    // Ignore own messages.\n    if (id === this.id) return\n\n    // Only the initiator will answer with offers to other peers.\n    // Send offer using signaling channel.\n    if (this.isInitiator && type === 'request') {\n      this.hub.broadcast(this.channelName, {\n        id: this.id,\n        type: 'offer',\n        signal: this.signal\n      })\n      return\n    }\n\n    // Only normal peers will use signaling data from the initiator.\n    if (!this.isInitiator && type === 'request') return\n    if (!signal) return\n\n    if (typeof this.onRemoteSignalCallback === 'function') {\n      this.onRemoteSignalCallback(signal)\n    }\n  }\n\n  send (message) {\n    this.hub.broadcast(this.channelName, {\n      id: this.id,\n      ...message\n    })\n  }\n\n  onRemoteSignal (callback) {\n    this.onRemoteSignalCallback = callback\n  }\n\n  getInitiatorId () {\n    const hash = window.location.hash.substr(1)\n    return hash\n  }\n}\n\nconst signaling = new Signaling()\nexport default signaling\n","import { eventChannel } from 'redux-saga'\nimport { put, call, takeEvery, take } from 'redux-saga/effects'\nimport {\n  initSuccess,\n  initFailed,\n  sendSignalSuccess,\n  sendSignalError,\n  gotRemoteSignal\n} from './actions'\nimport signaling from 'services/signaling'\nimport { SET_SIGNAL } from 'store/peers/actionTypes'\n\nexport function getSignalingEventChannel (signaling) {\n  return eventChannel(emitter => {\n    signaling.onRemoteSignal(data => {\n      console.log('signaling: got remote signal')\n      emitter({ type: 'remote-signal', data })\n    })\n\n    return () => {\n      console.log('Unsubscribe from signaling event channel.')\n    }\n  })\n}\n\nexport function * init () {\n  try {\n    console.log('init signaling')\n    signaling.init()\n\n    console.log('success, id:', signaling.id)\n    yield put(\n      initSuccess({\n        id: signaling.id,\n        isInitiator: signaling.isInitiator,\n        shareUrl: signaling.shareUrl\n      })\n    )\n\n    const channel = getSignalingEventChannel(signaling)\n    const { type, data } = yield take(channel)\n    console.log(`Got signaling CHANNEL \"${type}\" DATA`, data)\n    switch (type) {\n      case 'remote-signal':\n        yield put(gotRemoteSignal({ signal: data }))\n        break\n    }\n  } catch (e) {\n    yield put(initFailed({ error: e.message || 'Unknown error.' }))\n  }\n}\n\nexport function * send ({ payload }) {\n  try {\n    console.log('send local signal to remote peer', payload)\n    signaling.setSignal(payload.signal)\n    signaling.send({ signal: payload.signal })\n    yield put(sendSignalSuccess(payload))\n  } catch (e) {\n    yield put(sendSignalError({ error: e.message || 'Unknown error.' }))\n  }\n}\n\nexport default function * signalingSagas () {\n  console.log('signaling saga')\n  yield takeEvery(SET_SIGNAL, send)\n  yield call(init)\n}\n","export const getPeer = state => state.peers.peer\nexport const getSignal = state => state.peers.signal\n","import {\n  CREATE_LOCAL_PEER,\n  CREATE_LOCAL_PEER_SUCCESS,\n  CREATE_LOCAL_PEER_FAILED,\n  CREATE_REMOTE_PEER,\n  CREATE_REMOTE_PEER_SUCCESS,\n  CREATE_REMOTE_PEER_FAILED,\n  DESTROY,\n  ADD,\n  REMOVE,\n  SET_SIGNAL\n} from './actionTypes'\n\nexport const createLocalPeer = payload => ({\n  type: CREATE_LOCAL_PEER,\n  payload\n})\n\nexport const createLocalPeerSuccess = payload => ({\n  type: CREATE_LOCAL_PEER_SUCCESS,\n  payload\n})\n\nexport const createLocalPeerFailed = payload => ({\n  type: CREATE_LOCAL_PEER_FAILED,\n  payload\n})\n\nexport const createRemotePeer = payload => ({\n  type: CREATE_REMOTE_PEER,\n  payload\n})\n\nexport const createRemotePeerSuccess = payload => ({\n  type: CREATE_REMOTE_PEER_SUCCESS,\n  payload\n})\n\nexport const createRemotePeerFailed = payload => ({\n  type: CREATE_REMOTE_PEER_FAILED,\n  payload\n})\n\nexport const destroy = payload => ({\n  type: DESTROY,\n  payload\n})\n\nexport const add = payload => ({\n  type: ADD,\n  payload\n})\n\nexport const remove = payload => ({\n  type: REMOVE,\n  payload\n})\n\nexport const setSignal = payload => ({\n  type: SET_SIGNAL,\n  payload\n})\n","import SimplePeer from 'simple-peer'\nwindow.SimplePeer = SimplePeer\n\nclass Peer {\n  constructor ({ isInitiator = false, id, signal } = {}) {\n    this.isInitiator = isInitiator\n    this.remoteSignal = signal\n    this.id = id\n  }\n\n  init () {\n    this.peer = new SimplePeer({\n      initiator: this.isInitiator,\n      trickle: false\n    })\n    this.setPeerEvents()\n    return this\n  }\n\n  setPeerEvents () {\n    console.log('set peer events')\n    this.peer.on('error', err => {\n      console.log('error', err)\n      if (typeof this.onErrorCallback === 'function') {\n        this.onErrorCallback(err)\n      }\n    })\n\n    this.peer.on('close', err => {\n      console.log('close', err)\n      this.reconnect()\n    })\n\n    this.peer.on('signal', signal => {\n      console.log('SIGNAL', JSON.stringify(signal))\n      this.signal = signal\n      if (typeof this.onSignalCallback === 'function') {\n        this.onSignalCallback({ signal, id: this.id })\n      }\n    })\n\n    this.peer.on('connect', () => {\n      console.log('--- CONNECT ---')\n      if (typeof this.onConnectCallback === 'function') {\n        this.onConnectCallback()\n      }\n    })\n\n    this.peer.on('data', data => {\n      console.log('data: ' + data)\n      if (typeof this.onDataCallback === 'function') {\n        this.onDataCallback(data)\n      }\n    })\n\n    window.peer = this.peer\n  }\n\n  reconnect () {\n    console.log('RECONNECT')\n    this.destroy()\n    this.init()\n  }\n\n  onError (callback) {\n    this.onErrorCallback = callback\n    return this\n  }\n\n  onData (callback) {\n    this.onDataCallback = callback\n    return this\n  }\n\n  onSignal (callback) {\n    this.onSignalCallback = callback\n    return this\n  }\n\n  onConnect (callback) {\n    this.onConnectCallback = callback\n    return this\n  }\n\n  send (data) {\n    if (!this.peer.connected) return\n    const message = JSON.stringify({ payload: data })\n    console.log('Peer SEND', message)\n    this.peer.send(message)\n  }\n\n  connect (remoteSignal) {\n    this.peer.signal(remoteSignal)\n  }\n\n  destroy () {\n    this.peer.destroy()\n  }\n}\n\nwindow.Peer = Peer\nexport default Peer\n","import { eventChannel } from 'redux-saga'\nimport { put, takeEvery, take, select } from 'redux-saga/effects'\nimport { INIT_SUCCESS, GOT_REMOTE_SIGNAL } from 'store/signaling/actionTypes'\nimport {\n  SEND_MESSAGE,\n  SEND_WRITING_NOTIFICATION,\n  SEND_CLEAR_WRITING_NOTIFICATION\n} from 'store/chat/actionTypes'\nimport {\n  addMessage,\n  addWritingNotification,\n  removeWritingNotification\n} from 'store/chat/actions'\nimport { getPeer, getSignal } from './selectors'\nimport {\n  add,\n  remove,\n  destroy,\n  createLocalPeerSuccess,\n  createLocalPeerFailed,\n  createRemotePeerSuccess,\n  createRemotePeerFailed,\n  setSignal\n} from './actions'\nimport Peer from 'services/peer'\n\nexport function getRemotePeerEventChannel (remotePeer) {\n  return eventChannel(emitter => {\n    remotePeer\n      .onSignal(signal => {\n        emitter({ type: 'signal', data: signal })\n      })\n      .onData(data => {\n        emitter({ type: 'data', data })\n      })\n      .onConnect(() => {\n        emitter({ type: 'connect' })\n      })\n      .onError(error => {\n        console.log('Got ERROR from Peer:', error)\n        emitter({ type: 'error', data: error })\n      })\n\n    return () => {\n      console.log('Channel unsubscribe.')\n    }\n  })\n}\n\nfunction * handleRemotePeerData ({ data }) {\n  const { payload } = JSON.parse(data)\n  console.log('handle remote peer data', payload)\n\n  try {\n    switch (payload.type) {\n      case 'message':\n        console.log('-- MESSAGE', payload.data)\n        const message = {\n          ...payload.data,\n          type: 'peer'\n        }\n        yield put(addMessage(message))\n        break\n\n      case 'writing_notification':\n        console.log('-- WRITING NOTIFICATION', payload.data)\n        yield put(addWritingNotification(payload.data))\n        break\n\n      case 'clear_writing_notification':\n        console.log('-- CLEAR WRITING NOTIFICATION', payload.data)\n        yield put(removeWritingNotification(payload.data))\n        break\n    }\n  } catch (e) {\n    console.log('Error adding message', e)\n  }\n}\n\nexport function * createRemotePeer ({ payload }) {\n  try {\n    console.log('create remote peer', payload)\n    const { signal, id } = payload\n    const peer = yield select(getPeer)\n    peer.connect(signal)\n\n    const channel = getRemotePeerEventChannel(peer)\n    const storedSignal = yield select(getSignal)\n\n    try {\n      while (true) {\n        const { type, data } = yield take(channel)\n        console.log(\n          `[ REMOTE PEER ]: GOT \"${type}\" DATA from EVENT CHANNEL:`,\n          data\n        )\n        switch (type) {\n          case 'signal':\n            if (storedSignal) {\n              console.log('ALREADY GOT SIGNAL!')\n              return\n            }\n            yield put(setSignal(data)) // {signal, id}\n            break\n          case 'connect':\n            console.log('Peer connected!')\n            break\n          case 'data':\n            yield handleRemotePeerData({ type, data })\n            break\n          case 'error':\n            console.log('got error from remotePeer event channel', data)\n            break\n        }\n      }\n    } catch (e) {\n      console.log('Event channel error', e)\n    }\n\n    yield put(createRemotePeerSuccess({ peer: 'TODO' }))\n  } catch (e) {\n    yield put(createRemotePeerFailed({ error: e.message || 'Unknown error.' }))\n  }\n}\n\nexport function getLocalPeerEventChannel (localPeer) {\n  return eventChannel(emitter => {\n    localPeer\n      .onSignal(signal => {\n        emitter({ type: 'signal', data: signal })\n      })\n      .onData(data => {\n        console.log('Got DATA from Peer:', data)\n        emitter({ type: 'data', data })\n      })\n      .onError(error => {\n        console.log('Got ERROR from Peer:', error)\n        emitter({ type: 'error', data: error })\n      })\n\n    return () => {\n      console.log('Channel unsubscribe.')\n    }\n  })\n}\n\nexport function * createLocalPeer ({ payload }) {\n  try {\n    console.log('create local peer', payload)\n    const localPeer = new Peer({\n      id: payload.id,\n      isInitiator: payload.isInitiator\n    })\n    localPeer.init()\n\n    // Create peer for initiator.\n    yield put(createLocalPeerSuccess({ peer: localPeer }))\n\n    const channel = getLocalPeerEventChannel(localPeer)\n    try {\n      while (true) {\n        const { type, data } = yield take(channel)\n        console.log(\n          `[ LOCAL PEER ]: GOT \"${type}\" DATA from EVENT CHANNEL:`,\n          data\n        )\n        switch (type) {\n          case 'signal':\n            yield put(setSignal(data)) // {signal, id}\n            break\n          case 'data':\n            break\n          case 'error':\n            console.log('got error from localPeer event channel', data)\n            break\n        }\n      }\n    } catch (e) {\n      console.log('Event channel error', e)\n    }\n  } catch (e) {\n    yield put(createLocalPeerFailed({ error: e.message || 'Unknown error.' }))\n  }\n}\n\nexport function * sendMessage ({ payload }) {\n  console.log('PEER Saga: send message', payload)\n  const peer = yield select(getPeer)\n  peer.send({\n    type: 'message',\n    data: { ...payload }\n  })\n}\n\nexport function * sendWritingNotification ({ payload }) {\n  console.log('PEER Saga: send writing notification', payload)\n  const peer = yield select(getPeer)\n  peer.send({\n    type: 'writing_notification',\n    data: { user: payload, date: new Date() }\n  })\n}\n\nexport function * sendClearWritingNotification ({ payload }) {\n  console.log('PEER Saga: send clear writing notification', payload)\n  const peer = yield select(getPeer)\n  peer.send({\n    type: 'clear_writing_notification',\n    data: { user: payload, date: new Date() }\n  })\n}\n\nexport default function * signalingSagas () {\n  console.log('peers saga')\n  yield takeEvery(INIT_SUCCESS, createLocalPeer)\n  yield takeEvery(GOT_REMOTE_SIGNAL, createRemotePeer)\n  yield takeEvery(SEND_MESSAGE, sendMessage)\n  yield takeEvery(SEND_WRITING_NOTIFICATION, sendWritingNotification)\n  yield takeEvery(SEND_CLEAR_WRITING_NOTIFICATION, sendClearWritingNotification)\n}\n","import { put, takeLatest } from 'redux-saga/effects'\nimport { SEND_MESSAGE } from './actionTypes'\nimport { addMessage, sendMessageSuccess, sendMessageFailed } from './actions'\n\nexport function * sendMessage ({ payload }) {\n  try {\n    console.log('send message')\n    put(addMessage({ message: payload.message }))\n\n    // TODO: send message and get output; success or failed\n  } catch (e) {\n    yield put(\n      sendMessageFailed({\n        message: payload.message,\n        error: e\n      })\n    )\n  }\n}\n\nexport default function * chatSagas () {\n  console.log('chat saga')\n  yield takeLatest(SEND_MESSAGE, sendMessage)\n}\n","import { all, fork } from 'redux-saga/effects'\nimport signaling from './store/signaling/sagas'\nimport peers from './store/peers/sagas'\nimport chat from './store/chat/sagas'\n\nexport default function * saga () {\n  console.log('load sagas')\n  yield all([fork(peers), fork(signaling), fork(chat)])\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport reducers from './reducers'\nimport sagas from './sagas'\n\nconst sagaMiddleware = createSagaMiddleware()\nconst middleware = composeWithDevTools(applyMiddleware(sagaMiddleware))\nconst store = createStore(reducers, middleware)\nsagaMiddleware.run(sagas)\n\nexport default store\n","import React from 'react'\nimport styled from 'styled-components'\n\nexport const getImage = () => {\n  const min = 1\n  const max = 33\n  const i = Math.floor(Math.random() * (max - min + 1)) + min\n  const image = require(`./background${i}.jpg`)\n  return image\n}\n\nconst Wrapper = styled.div`\n  background: url(${getImage()}) no-repeat;\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: -1;\n  filter: blur(5px);\n`\n\nconst Fade = styled.div`\n  width: 100%;\n  height: 100%;\n  background: black;\n  opacity: 0.7;\n`\n\nconst Background = () => (\n  <Wrapper>\n    <Fade />\n  </Wrapper>\n)\n\nexport default Background\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  h1 {\n    font-family: 'Playfair Display', serif;\n  }\n`\n\nconst Header = () => (\n  <Wrapper>\n    <h1>Chateer</h1>\n  </Wrapper>\n)\n\nexport default Header\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport styled from 'styled-components'\n\nimport WelcomePage from './pages/WelcomePage'\nimport ChatPage from './pages/ChatPage'\nimport store from './store'\nimport Background from 'components/Background'\nimport Header from 'components/Header'\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true\n  },\n  palette: {\n    type: 'dark'\n  }\n})\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst App = () => (\n  <MuiThemeProvider theme={theme}>\n    <Provider store={store}>\n      <Background />\n\n      <Wrapper>\n        <Header />\n\n        <Router>\n          <>\n            <Route path=\"/\" exact component={WelcomePage} />\n            <Route path=\"/chat\" component={ChatPage} />\n          </>\n        </Router>\n      </Wrapper>\n    </Provider>\n  </MuiThemeProvider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}